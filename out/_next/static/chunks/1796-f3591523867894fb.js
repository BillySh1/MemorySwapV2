(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1796],{43174:function(e,n,t){var r=t(55189)((function(e,n,t){e[t?0:1].push(n)}),(function(){return[[],[]]}));e.exports=r},69649:function(e,n,t){"use strict";var r=t(186),o=t(57247);function i(){var e,n,t=(e=["\n  ","\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return i=function(){return t},t}var a=r.ZP.div.withConfig({componentId:"sc-df4f0a61-0"})(i(),o.Dh);a.defaultProps={p:"24px"},n.Z=a},58513:function(e,n,t){"use strict";var r=t(186),o=t(57247);function i(){var e,n,t=(e=["\n  border-top: 1px solid ",";\n  ","\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return i=function(){return t},t}var a=r.ZP.div.withConfig({componentId:"sc-5ed8a823-0"})(i(),(function(e){return e.theme.colors.cardBorder}),o.Dh);a.defaultProps={p:"24px"},n.Z=a},52622:function(e,n,t){"use strict";var r=t(85893);t(67294);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function a(){var e,n,t=(e=["\n  z-index: ",";\n  background-color: ",";\n  color: white;\n  margin: 0;\n  padding: 0;\n  padding: 8px 0;\n  position: absolute;\n  right: ",";\n  top: 0;\n  text-align: center;\n  transform: translateX(30%) translateY(0%) rotate(45deg);\n  transform: ",";\n  transform-origin: top left;\n  width: 96px;\n\n  &:before,\n  &:after {\n    background-color: ",';\n    content: "";\n    height: 100%;\n    margin: 0 -1px; /* Removes tiny gap */\n    position: absolute;\n    top: 0;\n    width: 100%;\n  }\n\n  &:before {\n    right: 100%;\n  }\n\n  &:after {\n    left: 100%;\n  }\n\n  & > div {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    width: 96px;\n  }\n'],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return a=function(){return t},t}var l=t(186).ZP.div.withConfig({componentId:"sc-57513cf-0"})(a(),(function(e){return e.theme.zIndices.ribbon}),(function(e){var n=e.variantColor,t=void 0===n?"secondary":n;return e.theme.colors[t]}),(function(e){return"right"===e.ribbonPosition?0:"auto"}),(function(e){return"right"===e.ribbonPosition?"translateX(30%) translateY(0%) rotate(45deg)":"translateX(0%) translateY(200%) rotate(-45deg)"}),(function(e){var n=e.variantColor,t=void 0===n?"secondary":n;return e.theme.colors[t]})),s=function(e){var n=e.variantColor,t=e.text,a=e.ribbonPosition,s=i(e,["variantColor","text","ribbonPosition"]);return(0,r.jsx)(l,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){o(e,n,t[n])}))}return e}({variantColor:n,ribbonPosition:a},s,{children:(0,r.jsx)("div",{title:t,children:t})}))};s.defaultProps={ribbonPosition:"right"},n.Z=s},21796:function(e,n,t){"use strict";t.d(n,{Z:function(){return qt}});var r=t(85893),o=t(67294),i=t(186),a=t(2593),l=t(61744),s=t(44431),c=t.n(s),u=t(77044),d=t(67602),f=t(19532),x=t(96939),p=t(42755),h=t(33786),m=t(75472),b=t.n(m),j=t(43174),g=t.n(j),v=t(7867),y=t(54295),k=t(9071),Z=t(77219),S=t(82805),w=t(64690),P=t(32115),T=t(84020),O=t(74025),C=t(59808),A=t(32149),D=t(11163),I=t(9507),z=t(14303),B=t(52425),E=t(52622),F=t(69649),L=t(87750),K=t(72989),M=t(64894),R=t(81497),U=t(98496),$=t(29572),N=function(e){var n=e.pool,t=e.stakedBalance,o=e.performanceFee,i=void 0===o?0:o,a=e.showIcon,l=void 0===a||a,s=(0,v.$G)().t,c=n.vaultKey,u=s(c?"APY includes compounding, APR doesn\u2019t. This pool\u2019s CAKE is compounded automatically, so we show APY.":"This pool\u2019s rewards aren\u2019t compounded automatically, so we show APR"),d=(0,R.Z)(u,{placement:"bottom-start"}),x=d.targetRef,p=d.tooltip,h=d.tooltipVisible;return(0,r.jsxs)(f.Z,{alignItems:"center",justifyContent:"space-between",children:[h&&p,(0,r.jsx)(U.Z,{ref:x,children:"".concat(s(c?"APY":"APR"),":")}),(0,r.jsx)($.Z,{pool:n,stakedBalance:t,performanceFee:i,showIcon:l})]})},G=t(60438);function W(){var e,n,t=(e=["\n  min-width: 280px;\n  max-width: 100%;\n  margin: 0 0 24px 0;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-self: baseline;\n  position: relative;\n  color: ",";\n\n  "," {\n    max-width: 350px;\n    margin: 0 12px 46px;\n  }\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return W=function(){return t},t}var H=(0,i.ZP)(G.Z).withConfig({componentId:"sc-34431ece-0"})(W(),(function(e){var n=e.isFinished;return e.theme.colors[n?"textDisabled":"secondary"]}),(function(e){return e.theme.mediaQueries.sm})),V=t(58513),Y=t(31236),X=t(45273),J=t(79386),Q=t(45080);function _(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function q(){var e=_(["\n  align-items: center;\n  justify-content: space-between;\n  button {\n    padding: 0;\n  }\n"]);return q=function(){return e},e}function ee(){var e=_(["\n  svg {\n    height: 14px;\n    width: 14px;\n  }\n"]);return ee=function(){return e},e}var ne=(0,i.ZP)(f.Z).withConfig({componentId:"sc-50dc8069-0"})(q()),te=(0,i.ZP)(f.Z).withConfig({componentId:"sc-50dc8069-1"})(ee()),re=function(e){var n=e.pool,t=e.account,i=e.defaultExpanded,a=e.children,l=n.vaultKey,s=(0,v.$G)().t,c=(0,o.useState)(i||!1),u=c[0],d=c[1],x=s("You must harvest and compound your earnings from this pool manually."),p=s("Rewards are distributed and included into your staking balance automatically. There\u2019s no need to manually compound your rewards."),h=(0,R.Z)(l?p:x,{placement:"bottom"}),m=h.targetRef,b=h.tooltip,j=h.tooltipVisible;return(0,r.jsxs)(V.Z,{children:[(0,r.jsxs)(ne,{children:[(0,r.jsxs)(f.Z,{alignItems:"center",children:[l?(0,r.jsx)(J.yd,{}):(0,r.jsx)(J.EM,{}),j&&b,(0,r.jsx)(f.Z,{ref:m,children:(0,r.jsx)(Y.Z,{ml:"4px",width:"20px",height:"20px",color:"textSubtle"})})]}),(0,r.jsx)(X.L,{expanded:u,onClick:function(){return d(!u)},children:s(u?"Hide":"Details")})]}),u&&(0,r.jsx)(te,{flexDirection:"column",children:a||(0,r.jsx)(Q.Z,{pool:n,account:t})})]})},oe=t(40623);function ie(){var e,n,t=(e=["\n  background: ",";\n  border-radius: ",";\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return ie=function(){return t},t}var ae=(0,i.ZP)(oe.Z).withConfig({componentId:"sc-7f0398ff-0"})(ie(),(function(e){var n=e.isFinished,t=e.background,r=e.theme;return n?r.colors.backgroundDisabled:r.colors.gradients[t]}),(function(e){var n=e.theme;return"".concat(n.radii.card," ").concat(n.radii.card," 0 0")})),le=function(e){var n=e.isFinished,t=e.title,o=e.subTitle;return(0,r.jsxs)(f.Z,{flexDirection:"column",children:[(0,r.jsx)(p.Z,{color:n?"textDisabled":"body",scale:"lg",children:t}),(0,r.jsx)(d.Z,{fontSize:"14px",color:n?"textDisabled":"textSubtle",children:o})]})},se=function(e){var n=e.isFinished,t=void 0!==n&&n,o=e.isStaking,i=void 0!==o&&o,a=e.children,l=i?"bubblegum":"cardHeader";return(0,r.jsx)(ae,{isFinished:t,background:l,children:(0,r.jsx)(f.Z,{alignItems:"center",justifyContent:"space-between",children:a})})},ce=t(23526),ue=t(28829),de=t(1471),fe=t(87177),xe=t(31289),pe=t(14667),he=t(95565),me=t(99522),be=function(e){var n=e.pool,t=e.isLoading,o=void 0!==t&&t,i=n.sousId,a=n.stakingToken,l=n.earningToken,s=(0,v.$G)().t,c=(0,he.X_)(a.address||""),u=(0,me.iB)(c,i,l.symbol),d=u.handleApprove,f=u.pendingTx;return(0,r.jsx)(r.Fragment,{children:o?(0,r.jsx)(fe.Z,{width:"100%",height:"52px"}):(0,r.jsx)(xe.Z,{isLoading:f,endIcon:f?(0,r.jsx)(pe.Z,{spin:!0,color:"currentColor"}):null,disabled:f,onClick:d,width:"100%",children:s("Enable")})})},je=t(6744),ge=t(47851),ve=t(66315),ye=t(81064),ke=t(16695),Ze=t(58081),Se=t(13719),we=t(94988);function Pe(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function Te(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(s){l=!0,o=s}finally{try{a||null==t.return||t.return()}finally{if(l)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return Pe(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Pe(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Oe=function(e){var n=e.pool,t=e.stakingTokenBalance,o=e.stakedBalance,i=e.isBnbPool,a=e.isStaked,l=e.isLoading,s=void 0!==l&&l,c=n.stakingToken,u=n.stakingTokenPrice,x=n.stakingLimit,p=n.isFinished,h=n.userData,m=(0,v.$G)().t,b=(0,ke.mW)(o,c.decimals),j=(0,ke.mW)(o.multipliedBy(u),c.decimals),g=Te((0,je.Z)((0,r.jsx)(Se.Z,{tokenSymbol:c.symbol})),1)[0],y=Te((0,je.Z)((0,r.jsx)(we.Z,{isBnbPool:i,pool:n,stakingTokenBalance:t,stakingTokenPrice:u})),1)[0],k=Te((0,je.Z)((0,r.jsx)(we.Z,{stakingTokenBalance:t,isBnbPool:i,pool:n,stakingTokenPrice:u,isRemovingStake:!0})),1)[0],Z=(0,R.Z)(m("You\u2019ve already staked the maximum amount you can stake in this pool!"),{placement:"bottom"}),S=Z.targetRef,w=Z.tooltip,P=Z.tooltipVisible,T=x.gt(0)&&h.stakedBalance.gte(x);return(0,r.jsx)(f.Z,{flexDirection:"column",children:s?(0,r.jsx)(fe.Z,{width:"100%",height:"52px"}):a?(0,r.jsxs)(f.Z,{justifyContent:"space-between",alignItems:"center",children:[(0,r.jsx)(f.Z,{flexDirection:"column",children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Ze.ZP,{bold:!0,fontSize:"20px",decimals:3,value:b}),0!==u&&(0,r.jsx)(d.Z,{fontSize:"12px",color:"textSubtle",children:(0,r.jsx)(Ze.ZP,{fontSize:"12px",color:"textSubtle",decimals:2,value:j,prefix:"~",unit:" USD"})})]})}),(0,r.jsxs)(f.Z,{children:[(0,r.jsx)(ge.Z,{variant:"secondary",onClick:k,mr:"6px",children:(0,r.jsx)(ve.Z,{color:"primary",width:"24px"})}),T?(0,r.jsx)("span",{ref:S,children:(0,r.jsx)(ge.Z,{variant:"secondary",disabled:!0,children:(0,r.jsx)(ye.Z,{color:"textDisabled",width:"24px",height:"24px"})})}):(0,r.jsx)(ge.Z,{variant:"secondary",onClick:t.gt(0)?y:g,disabled:p,children:(0,r.jsx)(ye.Z,{color:"primary",width:"24px",height:"24px"})})]}),P&&w]}):(0,r.jsx)(xe.Z,{disabled:p,onClick:t.gt(0)?y:g,children:m("Stake")})})},Ce=t(10406);function Ae(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function De(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(s){l=!0,o=s}finally{try{a||null==t.return||t.return()}finally{if(l)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return Ae(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ae(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ie=function(e){var n=e.earnings,t=e.earningToken,o=e.sousId,i=e.isBnbPool,a=e.earningTokenPrice,l=e.isLoading,s=void 0!==l&&l,c=(0,v.$G)().t,u=(0,ke.mW)(n,t.decimals),x=(0,ke.uf)(u,3,3),h=(0,ke.mW)(n.multipliedBy(a),t.decimals),m=(0,ke.NJ)(n,t.decimals),b=n.toNumber()>0,j=0===o,g=De((0,je.Z)((0,r.jsx)(Ce.Z,{formattedBalance:x,fullBalance:m,earningToken:t,earningsDollarValue:h,sousId:o,isBnbPool:i,isCompoundPool:j})),1)[0];return(0,r.jsxs)(f.Z,{justifyContent:"space-between",alignItems:"center",mb:"16px",children:[(0,r.jsx)(f.Z,{flexDirection:"column",children:s?(0,r.jsx)(fe.Z,{width:"80px",height:"48px"}):(0,r.jsx)(r.Fragment,{children:b?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Ze.ZP,{bold:!0,fontSize:"20px",decimals:5,value:u}),a>0&&(0,r.jsx)(Ze.ZP,{display:"inline",fontSize:"12px",color:"textSubtle",decimals:2,prefix:"~",value:h,unit:" USD"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(p.Z,{color:"textDisabled",children:"0"}),(0,r.jsx)(d.Z,{fontSize:"12px",color:"textDisabled",children:"0 USD"})]})})}),(0,r.jsx)(xe.Z,{disabled:!b,onClick:g,children:c(j?"Collect":"Harvest")})]})},ze=t(73392);function Be(){var e,n,t=(e=["\n  display: inline;\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return Be=function(){return t},t}var Ee=(0,i.ZP)(d.Z).withConfig({componentId:"sc-64e809c2-0"})(Be()),Fe=function(e){var n=e.pool,t=e.stakedBalance,o=n.sousId,i=n.stakingToken,a=n.earningToken,l=n.harvest,s=n.poolCategory,u=n.userData,d=n.earningTokenPrice,x=n.profileRequirement,p=s===ue.jh.BINANCE,h=(0,v.$G)().t,m=(null===u||void 0===u?void 0:u.allowance)?new(c())(u.allowance):K.HW,b=(null===u||void 0===u?void 0:u.stakingTokenBalance)?new(c())(u.stakingTokenBalance):K.HW,j=(null===u||void 0===u?void 0:u.pendingReward)?new(c())(u.pendingReward):K.HW,g=!m.gt(0)&&!p,y=t.gt(0),k=!u,Z=(0,de.f)(x),S=Z.notMeetRequired,w=Z.notMeetThreshold;return(0,r.jsx)(f.Z,{flexDirection:"column",children:(0,r.jsxs)(f.Z,{flexDirection:"column",children:[l&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(ce.Z,{display:"inline",children:[(0,r.jsx)(Ee,{color:"secondary",textTransform:"uppercase",bold:!0,fontSize:"12px",children:"".concat(a.symbol," ")}),(0,r.jsx)(Ee,{color:"textSubtle",textTransform:"uppercase",bold:!0,fontSize:"12px",children:h("Earned")})]}),(0,r.jsx)(Ie,{earnings:j,earningToken:a,sousId:o,earningTokenPrice:d,isBnbPool:p,isLoading:k})]}),(0,r.jsxs)(ce.Z,{display:"inline",children:[(0,r.jsxs)(Ee,{color:y?"secondary":"textSubtle",textTransform:"uppercase",bold:!0,fontSize:"12px",children:[y?i.symbol:h("Stake")," "]}),(0,r.jsx)(Ee,{color:y?"textSubtle":"secondary",textTransform:"uppercase",bold:!0,fontSize:"12px",children:y?h("Staked"):"".concat(i.symbol)})]}),S||w?(0,r.jsx)(ze.Q,{profileRequirement:x}):g?(0,r.jsx)(be,{pool:n,isLoading:k}):(0,r.jsx)(Oe,{isLoading:k,pool:n,stakingTokenBalance:b,stakedBalance:t,isBnbPool:p,isStaked:y})]})})},Le=function(e){var n=e.pool,t=e.account,o=n.sousId,i=n.stakingToken,a=n.earningToken,l=n.isFinished,s=n.userData,u=(0,v.$G)().t,x=(null===s||void 0===s?void 0:s.stakedBalance)?new(c())(s.stakedBalance):K.HW,p=x.gt(0),h="CAKE"===a.symbol&&"CAKE"===i.symbol;return(0,r.jsxs)(H,{isFinished:l&&0!==o,ribbon:l&&(0,r.jsx)(E.Z,{variantColor:"textDisabled",text:u("Finished")}),children:[(0,r.jsxs)(se,{isStaking:p,isFinished:l&&0!==o,children:[(0,r.jsx)(le,{title:h?u("Manual"):u("Earn %asset%",{asset:a.symbol}),subTitle:h?u("Earn CAKE, stake CAKE"):u("Stake %symbol%",{symbol:i.symbol})}),(0,r.jsx)(M.q,{primaryToken:a,secondaryToken:i,width:64,height:64})]}),(0,r.jsxs)(F.Z,{children:[(0,r.jsx)(N,{pool:n,stakedBalance:x}),(0,r.jsx)(f.Z,{mt:"24px",flexDirection:"column",children:t?(0,r.jsx)(Fe,{pool:n,stakedBalance:x}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.Z,{mb:"10px",textTransform:"uppercase",fontSize:"12px",color:"textSubtle",bold:!0,children:u("Start earning")}),(0,r.jsx)(L.Z,{})]})})]}),(0,r.jsx)(re,{pool:n,account:t})]})},Ke=t(24016),Me=t(87717),Re=t(86326),Ue=t(66634),$e=t(45522),Ne=t(62671),Ge=t(57742),We=function(e){var n=e.cakeToDisplay,t=e.pool,o=e.account,i=(0,R.Z)((0,r.jsx)(Ge.Z,{pool:t,account:o}),{placement:"bottom-end"}),a=i.targetRef,l=i.tooltip,s=i.tooltipVisible;return(0,r.jsxs)(r.Fragment,{children:[s&&l,(0,r.jsx)(U.Z,{ref:a,small:!0,children:(0,r.jsx)(Ze.ZP,{fontSize:"14px",value:n})})]})},He=function(e){var n=e.pool,t=(0,v.$G)().t,o=(0,u.Ge)().account,i=(0,k.eB)(n.vaultKey),a=i.pricePerFullShare,l=i.userData,s=l.cakeAtLastUserAction,c=l.userShares,x=l.currentOverdueFee,p=l.currentPerformanceFee,h=(0,$e.Iu)(),m=(0,Ne.UN)(o,s,c,a,h.toNumber(),p.plus(x)),b=m.hasAutoEarnings,j=m.autoCakeToDisplay;return c.gt(0)&&o?(0,r.jsxs)(f.Z,{alignItems:"center",justifyContent:"space-between",children:[(0,r.jsx)(d.Z,{fontSize:"14px",children:"".concat(t("Recent CAKE profit"),":")}),b&&(0,r.jsx)(We,{cakeToDisplay:j,pool:n,account:o})]}):null},Ve=t(18205),Ye=t(21730),Xe=t(8131),Je=t(16092);function Qe(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function _e(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(s){l=!0,o=s}finally{try{a||null==t.return||t.return()}finally{if(l)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return Qe(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Qe(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qe(){var e,n,t=(e=["\n  &:hover {\n    opacity: 0.5;\n  }\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return qe=function(){return t},t}var en=(0,i.ZP)(f.Z).withConfig({componentId:"sc-47cb955b-0"})(qe()),nn=(0,o.memo)((function(e){var n=e.pool,t=(0,v.$G)().t,o=(0,Xe.o)(),i=o.flexibleApy,a=o.lockedApy,l=_e((0,je.Z)((0,r.jsx)(Je.E,{pool:n})),1)[0],s=_e((0,je.Z)((0,r.jsx)(Je.E,{pool:n,initialView:1})),1)[0];return(0,r.jsxs)(Ye.m5,{children:[(0,r.jsxs)(f.Z,{alignItems:"center",justifyContent:"space-between",children:[(0,r.jsxs)(d.Z,{color:"textSubtle",textTransform:"uppercase",bold:!0,fontSize:"12px",children:[t("Flexible")," APY:"]}),i?(0,r.jsxs)(en,{alignItems:"center",justifyContent:"flex-start",children:[(0,r.jsx)(Ze.ZP,{fontSize:"16px",value:parseFloat(i),decimals:2,unit:"%",bold:!0}),(0,r.jsx)(xe.Z,{onClick:function(e){e.stopPropagation(),l()},variant:"text",width:"20px",height:"20px",padding:"0px",marginLeft:"4px",children:(0,r.jsx)(Ve.Z,{color:"textSubtle",width:"20px"})})]}):(0,r.jsx)(fe.Z,{width:"80px",height:"16px"})]}),(0,r.jsxs)(f.Z,{alignItems:"center",justifyContent:"space-between",children:[(0,r.jsxs)(d.Z,{color:"textSubtle",textTransform:"uppercase",bold:!0,fontSize:"12px",children:[t("Locked")," APY:"]}),a?(0,r.jsxs)(S.O,{gap:"4px",flexWrap:"wrap",justifyContent:"flex-end",children:[(0,r.jsx)(d.Z,{style:{whiteSpace:"nowrap"},bold:!0,children:t("Up to")}),(0,r.jsxs)(en,{alignItems:"center",children:[(0,r.jsx)(Ze.ZP,{fontSize:"16px",value:parseFloat(a),decimals:2,unit:"%",bold:!0}),(0,r.jsx)(xe.Z,{onClick:function(e){e.stopPropagation(),s()},variant:"text",width:"20px",height:"20px",padding:"0px",marginLeft:"4px",children:(0,r.jsx)(Ve.Z,{color:"textSubtle",width:"20px"})})]})]}):(0,r.jsx)(fe.Z,{width:"80px",height:"16px"})]})]})})),tn=function(e){var n=e.isLoading,t=void 0!==n&&n,o=e.setLastUpdated,i=(0,v.$G)().t,a=(0,me.Le)(o),l=a.handleApprove,s=a.pendingTx;return(0,r.jsx)(r.Fragment,{children:t?(0,r.jsx)(fe.Z,{width:"100%",height:"52px"}):(0,r.jsx)(xe.Z,{isLoading:s,endIcon:s?(0,r.jsx)(pe.Z,{spin:!0,color:"currentColor"}):null,disabled:s,onClick:l,width:"100%",children:i("Enable")})})},rn=t(96302),on=t(12633),an=t(88354),ln=t(79905);function sn(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function cn(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(s){l=!0,o=s}finally{try{a||null==t.return||t.return()}finally{if(l)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return sn(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return sn(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var un=function(e){var n=e.pool,t=e.stakingTokenBalance,o=e.performanceFee,i=(0,k.eB)(n.vaultKey).userData.balance,a=i.cakeAsBigNumber,l=i.cakeAsNumberBalance,s=n.stakingToken,c=(0,$e.Iu)(),u=c.gt(0)?(0,ke.mW)(a.multipliedBy(c),s.decimals):0,x=cn((0,je.Z)((0,r.jsx)(Se.Z,{tokenSymbol:s.symbol})),1)[0],p=cn((0,je.Z)((0,r.jsx)(on.Z,{stakingMax:t,performanceFee:o,pool:n})),1)[0],h=cn((0,je.Z)((0,r.jsx)(on.Z,{stakingMax:a,pool:n,isRemovingStake:!0}),!0,!0,"withdraw-vault"),1)[0];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(f.Z,{mb:"16px",justifyContent:"space-between",alignItems:"center",children:[(0,r.jsxs)(f.Z,{flexDirection:"column",children:[(0,r.jsx)(Ze.ZP,{fontSize:"20px",bold:!0,value:l,decimals:5}),(0,r.jsx)(d.Z,{as:f.Z,fontSize:"12px",color:"textSubtle",flexWrap:"wrap",children:c.gt(0)?(0,r.jsx)(Ze.ZP,{value:u,fontSize:"12px",color:"textSubtle",decimals:2,prefix:"~",unit:" USD"}):(0,r.jsx)(fe.Z,{mt:"1px",height:16,width:64})})]}),(0,r.jsxs)(f.Z,{children:[(0,r.jsx)(ge.Z,{variant:"secondary",onClick:h,mr:"6px",children:(0,r.jsx)(ve.Z,{color:"primary",width:"24px"})}),(0,r.jsx)(ge.Z,{variant:"secondary",onClick:t.gt(0)?p:x,children:(0,r.jsx)(ye.Z,{color:"primary",width:"24px",height:"24px"})})]})]}),(0,r.jsx)(ce.Z,{mb:"16px",children:(0,r.jsx)(ln.Z,{stakingToken:s,currentStakedAmount:l})})]})};function dn(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function fn(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(s){l=!0,o=s}finally{try{a||null==t.return||t.return()}finally{if(l)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return dn(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return dn(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var xn=function(e){var n=e.pool,t=e.stakingTokenBalance,o=e.accountHasSharesStaked,i=e.performanceFee,a=n.stakingToken,l=(0,k.f6)().userDataLoaded,s=fn((0,je.Z)((0,r.jsx)(Se.Z,{tokenSymbol:a.symbol})),1)[0],c=fn((0,je.Z)((0,r.jsx)(on.Z,{stakingMax:t,pool:n,performanceFee:i})),1)[0],u=fn((0,je.Z)((0,r.jsx)(an.Z,{currentBalance:t,stakingToken:a,stakingTokenBalance:t})),1)[0];return(0,r.jsx)(f.Z,{flexDirection:"column",children:l?o?(0,r.jsx)(un,{pool:n,stakingTokenBalance:t,performanceFee:i}):(0,r.jsx)(rn.w,{onFlexibleClick:t.gt(0)?c:s,onLockedClick:u}):(0,r.jsx)(fe.Z,{width:"100%",height:"52px"})})};function pn(){var e,n,t=(e=["\n  display: inline;\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return pn=function(){return t},t}var hn=(0,i.ZP)(d.Z).withConfig({componentId:"sc-de8cbb6e-0"})(pn()),mn=function(e){var n=e.pool,t=e.accountHasSharesStaked,o=e.isLoading,i=e.performanceFee,a=n.stakingToken,l=n.userData,s=(0,v.$G)().t,u=(null===l||void 0===l?void 0:l.stakingTokenBalance)?new(c())(l.stakingTokenBalance):K.HW,d=(0,me.dI)(),x=d.isVaultApproved,p=d.setLastUpdated;return(0,r.jsx)(f.Z,{flexDirection:"column",children:(0,r.jsxs)(f.Z,{flexDirection:"column",children:[(0,r.jsxs)(ce.Z,{display:"inline",children:[(0,r.jsxs)(hn,{color:t?"secondary":"textSubtle",textTransform:"uppercase",bold:!0,fontSize:"12px",children:[t?a.symbol:s("Stake")," "]}),(0,r.jsx)(hn,{color:t?"textSubtle":"secondary",textTransform:"uppercase",bold:!0,fontSize:"12px",children:t?s("Staked"):"".concat(a.symbol)})]}),x?(0,r.jsx)(xn,{pool:n,stakingTokenBalance:u,accountHasSharesStaked:t,performanceFee:i}):(0,r.jsx)(tn,{isLoading:o,setLastUpdated:p})]})})},bn=t(55285),jn=t(61036),gn=t(30725),vn=t(94171),yn=t(63614),kn=t(13876),Zn=t(62292),Sn=t(38413),wn=function(e){var n=e.userShares,t=e.locked,i=e.lockEndTime,a=e.lockStartTime,l=e.stakingToken,s=e.stakingTokenBalance,u=e.lockedAmount,d=(0,o.useMemo)((function(){return(0,bn.cP)({userShares:n,locked:t,lockEndTime:i})}),[n,t,i]),x=(0,v.$G)().t,p=(0,ke.mW)(u),h=(0,o.useMemo)((function(){return s?new(c())(s):K.HW}),[s]);return d===bn.PS.Locked?(0,r.jsxs)(f.Z,{children:[(0,r.jsx)(ce.Z,{width:"100%",mr:"4px",children:(0,r.jsx)(kn.Z,{lockEndTime:i,lockStartTime:a,currentLockedAmount:u,stakingToken:l,currentBalance:h,stakingTokenBalance:s})}),(0,r.jsx)(ce.Z,{width:"100%",ml:"4px",children:(0,r.jsx)(Zn.Z,{lockEndTime:i,lockStartTime:a,stakingToken:l,currentLockedAmount:p,children:x("Extend")})})]}):(0,r.jsx)(Sn.Z,{lockEndTime:i,lockStartTime:a,position:d,currentLockedAmount:p,stakingToken:l})},Pn=t(78661),Tn=t(43229),On=t(40504),Cn=function(e){var n,t=e.stakingToken,i=e.stakingTokenBalance,a=e.userData,l=(0,v.$G)().t,s=(0,o.useMemo)((function(){return(0,bn.cP)({userShares:null===a||void 0===a?void 0:a.userShares,locked:null===a||void 0===a?void 0:a.locked,lockEndTime:null===a||void 0===a?void 0:a.lockEndTime})}),[a]),c=(0,o.useMemo)((function(){var e;return null===a||void 0===a||null===(e=a.balance)||void 0===e?void 0:e.cakeAsBigNumber}),[null===a||void 0===a||null===(n=a.balance)||void 0===n?void 0:n.cakeAsBigNumber]),u=(0,ke.mW)(c),x=(0,gn.Tx)(u),p=(0,On.Z)({lockStartTime:null===a||void 0===a?void 0:a.lockStartTime,lockEndTime:null===a||void 0===a?void 0:a.lockEndTime}),h=p.weekDuration,m=p.lockEndDate,b=p.secondDuration,j=p.remainingTime,g=(0,Xe.o)({duration:b}).lockedApy,y=(0,o.useMemo)((function(){return(0,ke.mW)(c.minus(null===a||void 0===a?void 0:a.cakeAtLastUserAction))}),[c,null===a||void 0===a?void 0:a.cakeAtLastUserAction]),k=l("Calculated based on current rates and subject to change based on pool conditions. It is an estimate provided for your convenience only, and by no means represents guaranteed returns."),Z=(0,R.Z)(k,{placement:"bottom-start"}),S=Z.targetRef,w=Z.tooltip,P=Z.tooltipVisible;return(0,r.jsxs)(Ye.m5,{children:[(0,r.jsxs)(f.Z,{justifyContent:"space-between",mb:"16px",children:[(0,r.jsxs)(ce.Z,{children:[(0,r.jsx)(d.Z,{color:"textSubtle",textTransform:"uppercase",bold:!0,fontSize:"12px",children:l("CAKE locked")}),(0,r.jsx)(Ze.sC,{color:"text",bold:!0,fontSize:"16px",value:u,decimals:5}),(0,r.jsx)(Ze.sC,{value:x,fontSize:"12px",color:"textSubtle",decimals:2,prefix:"~",unit:" USD"})]}),(0,r.jsxs)(ce.Z,{children:[(0,r.jsx)(d.Z,{color:"textSubtle",textTransform:"uppercase",bold:!0,fontSize:"12px",children:l("Unlocks In")}),(0,r.jsx)(d.Z,{color:s>=bn.PS.LockedEnd?"#D67E0A":"text",bold:!0,fontSize:"16px",children:s>=bn.PS.LockedEnd?l("Unlocked"):j}),(0,r.jsx)(d.Z,{color:s>=bn.PS.LockedEnd?"#D67E0A":"text",fontSize:"12px",children:l("On %date%",{date:m})})]})]}),(0,r.jsx)(ce.Z,{mb:"16px",children:(0,r.jsx)(wn,{userShares:null===a||void 0===a?void 0:a.userShares,locked:null===a||void 0===a?void 0:a.locked,lockEndTime:null===a||void 0===a?void 0:a.lockEndTime,lockStartTime:null===a||void 0===a?void 0:a.lockStartTime,stakingToken:t,stakingTokenBalance:i,lockedAmount:c})}),(0,r.jsx)(jn.Z,{}),![bn.PS.LockedEnd,bn.PS.AfterBurning].includes(s)&&(0,r.jsxs)(f.Z,{alignItems:"center",justifyContent:"space-between",children:[P&&w,(0,r.jsx)(U.Z,{children:(0,r.jsx)(d.Z,{ref:S,color:"textSubtle",textTransform:"uppercase",bold:!0,fontSize:"12px",children:l("APY")})}),(0,r.jsx)(Ze.sC,{color:"text",bold:!0,fontSize:"16px",value:parseFloat(g),decimals:2,unit:"%"})]}),(0,r.jsx)(Tn.Z,{weekDuration:h}),![bn.PS.LockedEnd,bn.PS.AfterBurning].includes(s)&&(0,r.jsx)(Pn.Z,{secondDuration:b}),(0,r.jsxs)(f.Z,{alignItems:"center",justifyContent:"space-between",children:[(0,r.jsx)(d.Z,{color:"textSubtle",textTransform:"uppercase",bold:!0,fontSize:"12px",children:l("Recent CAKE profit")}),(0,r.jsx)(Ze.sC,{color:"text",bold:!0,fontSize:"16px",value:y,decimals:5})]}),s===bn.PS.LockedEnd&&(0,r.jsxs)(f.Z,{alignItems:"center",justifyContent:"space-between",children:[(0,r.jsx)(d.Z,{color:"textSubtle",textTransform:"uppercase",bold:!0,fontSize:"12px",children:l("After Burning In")}),(0,r.jsx)(d.Z,{color:"failure",bold:!0,children:(0,r.jsx)(yn.Z,{lockEndTime:null===a||void 0===a?void 0:a.lockEndTime})})]}),s===bn.PS.AfterBurning&&(0,r.jsxs)(f.Z,{alignItems:"center",justifyContent:"space-between",children:[(0,r.jsx)(d.Z,{color:"textSubtle",textTransform:"uppercase",bold:!0,fontSize:"12px",children:l("After burning")}),(0,r.jsx)(d.Z,{color:"failure",bold:!0,children:(0,vn.Z)(null===a||void 0===a?void 0:a.currentOverdueFee)?"-":l("%amount% Burned",{amount:(0,ke.NJ)(null===a||void 0===a?void 0:a.currentOverdueFee,18,5)})})]})]})},An=(0,o.memo)(Cn);function Dn(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function In(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){Dn(e,n,t[n])}))}return e}function zn(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function Bn(){var e,n,t=(e=["\n  min-height: ",";\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return Bn=function(){return t},t}var En=(0,i.ZP)(F.Z).withConfig({componentId:"sc-f42b4773-0"})(Bn(),(function(e){return e.isLoading?"0":"254px"})),Fn=function(e){var n,t,o=e.pool,i=e.showStakedOnly,a=e.defaultFooterExpanded,l=zn(e,["pool","showStakedOnly","defaultFooterExpanded"]),s=(0,v.$G)().t,c=(0,u.Ge)().account,x=(0,k.eB)(o.vaultKey),p=x.userData,h=p.userShares,m=p.isLoading,b=x.fees.performanceFeeAsDecimal,j=h&&h.gt(0),g=!o.userData||m;return i&&!j?null:(0,r.jsxs)(H,In({isActive:!0},l,{children:[(0,r.jsxs)(se,{isStaking:j,children:[(0,r.jsx)(le,{title:Me.Y4[o.vaultKey].name,subTitle:Me.Y4[o.vaultKey].description}),(0,r.jsx)(Ke.Z,In({},Me.Y4[o.vaultKey].tokenImage,{width:64,height:64}))]}),(0,r.jsxs)(En,{isLoading:g,children:[c&&(0,r.jsx)(Re.X,{userData:x.userData}),c&&(null===x||void 0===x||null===(n=x.userData)||void 0===n?void 0:n.locked)?(0,r.jsx)(An,{userData:null===x||void 0===x?void 0:x.userData,stakingToken:null===o||void 0===o?void 0:o.stakingToken,stakingTokenBalance:null===o||void 0===o||null===(t=o.userData)||void 0===t?void 0:t.stakingTokenBalance}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(nn,{pool:o}),(0,r.jsxs)(S.O,{mt:"16px",gap:"24px",flexDirection:j?"column-reverse":"column",children:[(0,r.jsxs)(ce.Z,{children:[c&&(0,r.jsx)(ce.Z,{mb:"8px",children:(0,r.jsx)(Ue.Z,{vaultKey:o.vaultKey})}),(0,r.jsx)(He,{pool:o})]}),(0,r.jsx)(f.Z,{flexDirection:"column",children:c?(0,r.jsx)(mn,{pool:o,accountHasSharesStaked:j,isLoading:g,performanceFee:b}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.Z,{mb:"10px",textTransform:"uppercase",fontSize:"12px",color:"textSubtle",bold:!0,children:s("Start earning")}),(0,r.jsx)(L.Z,{})]})})]})]})]}),(0,r.jsx)(re,{defaultExpanded:a,pool:o,account:c})]}))},Ln=t(45017),Kn=t(6302),Mn=t(84206),Rn=t(31114),Un=t(38143),$n=t(16936);function Nn(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function Gn(){var e=Nn(["\n  display: flex;\n  align-items: center;\n  margin-left: 10px;\n\n  "," {\n    margin-left: 8px;\n  }\n"]);return Gn=function(){return e},e}function Wn(){var e=Nn(["\n  flex-wrap: wrap;\n  justify-content: space-between;\n  display: flex;\n  align-items: center;\n  width: 100%;\n\n  > div {\n    padding: 8px 0px;\n  }\n\n  "," {\n    justify-content: flex-start;\n    width: auto;\n\n    > div {\n      padding: 0;\n    }\n  }\n"]);return Wn=function(){return e},e}function Hn(){var e=Nn(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  a {\n    padding-left: 12px;\n    padding-right: 12px;\n  }\n\n  "," {\n    margin-left: 16px;\n  }\n"]);return Hn=function(){return e},e}var Vn=i.ZP.div.withConfig({componentId:"sc-f7bbfe02-0"})(Gn(),d.Z),Yn=i.ZP.div.withConfig({componentId:"sc-f7bbfe02-1"})(Wn(),(function(e){return e.theme.mediaQueries.sm})),Xn=i.ZP.div.withConfig({componentId:"sc-f7bbfe02-2"})(Hn(),(function(e){return e.theme.mediaQueries.sm})),Jn=function(e){var n=e.stakedOnly,t=e.setStakedOnly,o=e.hasStakeInFinishedPools,i=e.viewMode,a=e.setViewMode,l=(0,D.useRouter)(),s=(0,v.$G)().t,c="/pools"===l.asPath,u=(0,r.jsx)(Kn.Z,{idPrefix:"clickPool",viewMode:i,onToggle:function(e){return a(e)}}),f=(0,r.jsx)(Xn,{children:(0,r.jsxs)(Mn.Z,{activeIndex:c?0:1,scale:"sm",variant:"subtle",children:[(0,r.jsx)(Rn.Z,{as:Ln.a,to:"/pools",replace:!0,children:s("Live")}),(0,r.jsx)(Un.Z,{show:o,children:(0,r.jsx)(Rn.Z,{id:"finished-pools-button",as:Ln.a,to:"/pools/history",replace:!0,children:s("Finished")})})]})}),x=(0,r.jsxs)(Vn,{children:[(0,r.jsx)($n.Z,{checked:n,onChange:function(){return t(!n)},scale:"sm"}),(0,r.jsxs)(d.Z,{children:[" ",s("Staked only")]})]});return(0,r.jsxs)(Yn,{children:[u,x,f]})},Qn=t(34380),_n=t(81860),qn=t(27697),et=t(5723),nt=t(42169),tt=t(29793);function rt(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function ot(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(s){l=!0,o=s}finally{try{a||null==t.return||t.return()}finally{if(l)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return rt(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return rt(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function it(){var e,n,t=(e=["\n  flex: 4.5;\n  "," {\n    flex: 1 0 120px;\n  }\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return it=function(){return t},t}var at=(0,i.ZP)(tt.Z).withConfig({componentId:"sc-e4942fcd-0"})(it(),(function(e){return e.theme.mediaQueries.sm})),lt=function(e){var n=e.pool,t=e.account,o=e.userDataLoaded,i=(0,v.$G)().t,a=(0,_n.Z)().isMobile,l=n.sousId,s=n.earningToken,u=n.poolCategory,x=n.userData,p=n.earningTokenPrice,h=0===l,m=(null===x||void 0===x?void 0:x.pendingReward)?new(c())(x.pendingReward):K.HW,b=(0,ke.mW)(m,s.decimals),j=(0,ke.mW)(m.multipliedBy(p),s.decimals),g=t&&m.gt(0),y=(0,ke.NJ)(m,s.decimals),k=(0,ke.uf)(b,3,3),Z=u===ue.jh.BINANCE,S=i("%asset% Earned",{asset:s.symbol}),w=ot((0,je.Z)((0,r.jsx)(Ce.Z,{formattedBalance:k,fullBalance:y,earningToken:s,earningsDollarValue:j,sousId:l,isBnbPool:Z,isCompoundPool:h})),1)[0];return(0,r.jsx)(at,{role:"cell",children:(0,r.jsxs)(tt.J,{children:[(0,r.jsx)(d.Z,{fontSize:"12px",color:"textSubtle",textAlign:"left",children:S}),!o&&t?(0,r.jsx)(fe.Z,{width:"80px",height:"16px"}):(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(f.Z,{children:(0,r.jsxs)(ce.Z,{mr:"8px",height:"32px",onClick:g?function(e){e.stopPropagation(),w()}:void 0,children:[(0,r.jsx)(Ze.ZP,{mt:"4px",bold:!a,fontSize:a?"14px":"16px",color:g?"primary":"textDisabled",decimals:g?5:1,value:g?b:0}),g?(0,r.jsx)(r.Fragment,{children:p>0&&(0,r.jsx)(Ze.ZP,{display:"inline",fontSize:"12px",color:"textSubtle",decimals:2,prefix:"~",value:j,unit:" USD"})}):(0,r.jsx)(d.Z,{mt:"4px",fontSize:"12px",color:"textDisabled",children:"0 USD"})]})})})]})})},st=t(5948);function ct(){var e,n,t=(e=["\n  flex: 2 0 100px;\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return ct=function(){return t},t}var ut=(0,i.ZP)(tt.Z).withConfig({componentId:"sc-2d82113d-0"})(ct()),dt=function(e){var n=e.pool,t=(0,v.$G)().t,i=n.stakingToken,a=n.totalStaked,l=n.vaultKey,s=(0,k.eB)(l).totalCakeInVault,c=(0,o.useMemo)((function(){return l?(0,ke.mW)(s,i.decimals):(0,ke.mW)(a,i.decimals)}),[l,s,a,i.decimals]);return(0,r.jsx)(ut,{role:"cell",children:(0,r.jsxs)(tt.J,{children:[(0,r.jsx)(d.Z,{fontSize:"12px",color:"textSubtle",textAlign:"left",children:t("Total staked")}),a&&a.gte(0)?(0,r.jsx)(f.Z,{height:"20px",alignItems:"center",children:(0,r.jsx)(Ze.ZP,{fontSize:"16px",value:c,decimals:0,unit:" ".concat(i.symbol)})}):(0,r.jsx)(fe.Z,{width:"80px",height:"16px"})]})})},ft=t(57837),xt=t(11156);function pt(){var e,n,t=(e=["\n  flex: 2 0 100px;\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return pt=function(){return t},t}var ht=(0,i.ZP)(tt.Z).withConfig({componentId:"sc-4c423023-0"})(pt()),mt=function(e){var n=e.pool,t=n.sousId,o=n.totalStaked,i=n.startBlock,a=n.endBlock,l=n.isFinished,s=(0,z.je)(),c=(0,v.$G)().t,u=(0,Ne.zy)(n,s),p=u.shouldShowBlockCountdown,h=u.blocksUntilStart,m=u.blocksRemaining,b=u.hasPoolStarted,j=u.blocksToDisplay,g=0===t,y=p?(0,r.jsxs)(f.Z,{alignItems:"center",children:[(0,r.jsxs)(f.Z,{flex:"1.3",children:[(0,r.jsx)(Ze.ZP,{fontSize:"16px",value:j,decimals:0}),(0,r.jsx)(d.Z,{ml:"4px",textTransform:"lowercase",children:c("Blocks")})]}),(0,r.jsx)(f.Z,{flex:"1",children:(0,r.jsx)(x.Z,{external:!0,href:(0,xt.s6)(b?a:i,"countdown"),onClick:function(e){return e.stopPropagation()},children:(0,r.jsx)(ft.Z,{ml:"4px"})})})]}):(0,r.jsx)(d.Z,{children:"-"}),k=!s||!m&&!h,Z=(b&&!o.gt(0)||k)&&!g&&!l;return(0,r.jsx)(ht,{role:"cell",children:(0,r.jsxs)(tt.J,{children:[(0,r.jsx)(d.Z,{fontSize:"12px",color:"textSubtle",textAlign:"left",children:c(b||!p?"Ends in":"Starts in")}),Z?(0,r.jsx)(fe.Z,{width:"80px",height:"16px"}):y]})})},bt=t(96947),jt=t(76150),gt=t(14979),vt=t(85242);function yt(){var e,n,t=(e=[""],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return yt=function(){return t},t}var kt=(0,i.ZP)(tt.Z).withConfig({componentId:"sc-6e58304e-0"})(yt()),Zt=function(e){var n=e.pool,t=e.account,o=e.userDataLoaded,i=(0,v.$G)().t,a=(0,_n.Z)().isMobile,l=(0,k.eB)(n.vaultKey).userData,s=l.locked,u=l.isLoading,x=l.userShares,p=l.balance,h=p.cakeAsBigNumber,m=p.cakeAsNumberBalance,b=x&&x.gt(0),j=n.vaultKey&&b,g=n.stakingTokenPrice,y=n.stakingToken,Z=n.userData,S=(0,ke.mW)(h.multipliedBy(g),y.decimals),w=(null===Z||void 0===Z?void 0:Z.stakedBalance)?new(c())(Z.stakedBalance):K.HW,P=(0,ke.mW)(w,y.decimals),T=(0,ke.mW)(w.multipliedBy(g),y.decimals),O="".concat(n.stakingToken.symbol," ").concat(i(s?"Locked":"Staked")),C=t&&(w.gt(0)||j),A=n.vaultKey?u:!o;return(0,r.jsx)(kt,{role:"cell",flex:n.vaultKey&&!C?"1 0 120px":"2 0 100px",children:(0,r.jsxs)(tt.J,{children:[(0,r.jsx)(d.Z,{fontSize:"12px",color:"textSubtle",textAlign:"left",children:O}),A&&t?(0,r.jsx)(fe.Z,{width:"80px",height:"16px"}):(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(f.Z,{children:(0,r.jsxs)(ce.Z,{mr:"8px",height:"32px",children:[(0,r.jsx)(Ze.ZP,{mt:"4px",bold:!a,fontSize:a?"14px":"16px",color:C?"primary":"textDisabled",decimals:C?5:1,value:C?n.vaultKey?Number.isNaN(m)?0:m:P:0}),C?(0,r.jsx)(Ze.ZP,{display:"inline",fontSize:"12px",color:"textSubtle",decimals:2,prefix:"~",value:n.vaultKey?S:T,unit:" USD"}):(0,r.jsx)(d.Z,{mt:"4px",fontSize:"12px",color:"textDisabled",children:"0 USD"})]})})})]})})};function St(){var e,n,t=(e=["\n  background-color: transparent;\n  display: flex;\n  cursor: pointer;\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return St=function(){return t},t}var wt=i.ZP.div.withConfig({componentId:"sc-d3657e14-0"})(St()),Pt=function(e){var n=e.pool,t=e.account,i=e.userDataLoaded,a=(0,_n.Z)(),l=a.isXs,s=a.isSm,c=a.isMd,u=a.isLg,d=a.isXl,f=a.isXxl,x=a.isTablet,p=a.isDesktop,h=u||d||f,m=d||f,b=(0,o.useState)(!1),j=b[0],g=b[1],v=(0,et.Z)(j,300),y=0===n.sousId;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(wt,{role:"row",onClick:function(){g((function(e){return!e}))},children:[(0,r.jsx)(nt.Z,{pool:n}),n.vaultKey?m&&n.vaultKey===qn.om.CakeVault&&(0,r.jsx)(gt.Z,{pool:n,account:t}):(0,r.jsx)(lt,{pool:n,account:t,userDataLoaded:i}),m&&n.vaultKey===qn.om.CakeVault&&y?(0,r.jsx)(Zt,{pool:n,account:t,userDataLoaded:i}):null,h&&!y&&(0,r.jsx)(dt,{pool:n}),n.vaultKey?(0,r.jsx)(vt.Z,{pool:n}):(0,r.jsx)(st.Z,{pool:n}),h&&y&&(0,r.jsx)(dt,{pool:n}),p&&!y&&(0,r.jsx)(mt,{pool:n}),(0,r.jsx)(bt.Z,{expanded:j,isFullLayout:x||p})]}),v&&(0,r.jsx)(jt.Z,{account:t,pool:n,userDataLoaded:i,expanded:j,breakpoints:{isXs:l,isSm:s,isMd:c,isLg:u,isXl:d,isXxl:f}})]})};function Tt(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function Ot(){var e=Tt(["\n  border-radius: ",";\n  scroll-margin-top: 64px;\n\n  background-color: ",";\n  > div:not(:last-child) {\n    border-bottom: 2px solid ",";\n  }\n"]);return Ot=function(){return e},e}function Ct(){var e=Tt(["\n  border-radius: ",";\n  background-color: ",";\n  padding: 1px 1px 3px 1px;\n  background-size: 400% 400%;\n"]);return Ct=function(){return e},e}function At(){var e=Tt(["\n  display: flex;\n  justify-content: center;\n  padding-top: 5px;\n  padding-bottom: 5px;\n"]);return At=function(){return e},e}var Dt=i.ZP.div.withConfig({componentId:"sc-a759be50-0"})(Ot(),(function(e){return e.theme.radii.card}),(function(e){return e.theme.card.background}),(function(e){return e.theme.colors.disabled})),It=i.ZP.div.withConfig({componentId:"sc-a759be50-1"})(Ct(),(function(e){return e.theme.radii.card}),(function(e){return e.theme.colors.cardBorder})),zt=i.ZP.div.withConfig({componentId:"sc-a759be50-2"})(At()),Bt=function(e){var n,t=e.pools,i=e.userDataLoaded,a=e.account,l=(0,v.$G)().t,s=(0,o.useRef)(null);return(0,r.jsx)(It,{children:(0,r.jsxs)(Dt,{id:"pools-table",role:"table",ref:s,children:[t.map((function(e){return(0,r.jsx)(Pt,{pool:e,account:a,userDataLoaded:i},null!==(n=e.vaultKey)&&void 0!==n?n:e.sousId)})),(0,r.jsx)(zt,{children:(0,r.jsxs)(xe.Z,{variant:"text",onClick:function(){s.current.scrollIntoView({behavior:"smooth"})},children:[l("To Top"),(0,r.jsx)(Qn.Z,{color:"primary"})]})})]})})};function Et(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function Ft(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(s){l=!0,o=s}finally{try{a||null==t.return||t.return()}finally{if(l)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return Et(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Et(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lt(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function Kt(){var e=Lt(["\n  justify-content: center;\n"]);return Kt=function(){return e},e}function Mt(){var e=Lt(["\n  display: flex;\n  width: 100%;\n  align-items: center;\n  position: relative;\n\n  justify-content: space-between;\n  flex-direction: column;\n  margin-bottom: 32px;\n\n  "," {\n    flex-direction: row;\n    flex-wrap: wrap;\n    padding: 16px 32px;\n    margin-bottom: 0;\n  }\n"]);return Mt=function(){return e},e}function Rt(){var e=Lt(["\n  display: flex;\n  align-items: center;\n  width: 100%;\n  padding: 8px 0px;\n\n  "," {\n    width: auto;\n    padding: 0;\n  }\n"]);return Rt=function(){return e},e}function Ut(){var e=Lt(["\n  > "," {\n    font-size: 12px;\n  }\n"]);return Ut=function(){return e},e}function $t(){var e=Lt(["\n  > div {\n    flex: 1;\n  }\n"]);return $t=function(){return e},e}function Nt(){var e=Lt(["\n  padding-bottom: 32px;\n  flex-direction: column;\n  "," {\n    flex-direction: row;\n  }\n"]);return Nt=function(){return e},e}function Gt(){var e=Lt(["\n  font-weight: 400;\n  white-space: nowrap;\n  text-decoration: underline;\n"]);return Gt=function(){return e},e}var Wt=(0,i.ZP)(S.Z).withConfig({componentId:"sc-4950efcf-0"})(Kt()),Ht=i.ZP.div.withConfig({componentId:"sc-4950efcf-1"})(Mt(),(function(e){return e.theme.mediaQueries.sm})),Vt=i.ZP.div.withConfig({componentId:"sc-4950efcf-2"})(Rt(),(function(e){return e.theme.mediaQueries.sm})),Yt=i.ZP.div.withConfig({componentId:"sc-4950efcf-3"})(Ut(),d.Z),Xt=(0,i.ZP)(f.Z).withConfig({componentId:"sc-4950efcf-4"})($t()),Jt=(0,i.ZP)(f.Z).withConfig({componentId:"sc-4950efcf-5"})(Nt(),(function(e){return e.theme.mediaQueries.md})),Qt=(0,i.ZP)(x.Z).withConfig({componentId:"sc-4950efcf-6"})(Gt()),_t=60/B.hJ*4,qt=function(){var e=(0,D.useRouter)(),n=(0,v.$G)().t,t=(0,u.Ge)().account,i=(0,k.f6)(),s=i.pools,x=i.userDataLoaded,m=Ft((0,C.tw)(),2),j=m[0],S=m[1],B=Ft((0,C.Yi)(),2),E=B[0],F=B[1],L=(0,o.useState)(12),K=L[0],M=L[1],R=(0,y.Z)(),U=R.observerRef,$=R.isIntersecting,N=(0,o.useState)(""),G=N[0],W=N[1],H=(0,o.useState)("hot"),V=H[0],Y=H[1],X=(0,o.useRef)(0),J=(0,z.Xh)(),Q=(0,o.useMemo)((function(){return g()(s,(function(e){return e.isFinished}))}),[s]),_=Q[0],q=Q[1],ee=(0,o.useMemo)((function(){return q.filter((function(e){return!(J>0&&e.startBlock)||Number(e.startBlock)<J+_t}))}),[J,q]),ne=(0,o.useMemo)((function(){return _.filter((function(e){if(e.vaultKey){var n=e;return n.userData.userShares&&n.userData.userShares.gt(0)}return e.userData&&new(c())(e.userData.stakedBalance).isGreaterThan(0)}))}),[_]),te=(0,o.useCallback)((function(){return ee.filter((function(e){if(e.vaultKey){var n=e;return n.userData.userShares&&n.userData.userShares.gt(0)}return e.userData&&new(c())(e.userData.stakedBalance).isGreaterThan(0)}))}),[ee]),re=ne.length>0;(0,k.l7)(),(0,o.useEffect)((function(){$&&M((function(e){return e<=X.current?e+12:e}))}),[$]);var oe,ie=e.pathname.includes("history"),ae=(0,o.useCallback)((function(e){return W(e.target.value)}),[]),le=(0,o.useCallback)((function(e){return Y(e.value)}),[]);oe=ie?j?ne:_:j?te():ee,oe=(0,o.useMemo)((function(){var e=function(e,n,t,r){switch(n){case"apr":return b()(r,(function(e){return e.apr?e.apr:0}),"desc");case"earned":return b()(r,(function(n){if(!n.userData||!n.earningTokenPrice)return 0;if(n.vaultKey){var t=n;return t.userData&&t.userData.userShares?(0,Ne.UN)(e,t.userData.cakeAtLastUserAction,t.userData.userShares,t.pricePerFullShare,t.earningTokenPrice,t.userData.currentOverdueFee.plus(t.userData.currentPerformanceFee)).autoUsdToDisplay:0}return n.userData.pendingReward.times(n.earningTokenPrice).toNumber()}),"desc");case"totalStaked":return b()(r,(function(e){var n,t=Number.NaN;if(e.vaultKey){var r=e;e.stakingTokenPrice&&r.totalCakeInVault.isFinite()&&(t=+(0,l.bM)(a.O$.from(r.totalCakeInVault.toString()),e.stakingToken.decimals)*e.stakingTokenPrice)}else(null===(n=e.totalStaked)||void 0===n?void 0:n.isFinite())&&e.stakingTokenPrice&&(t=+(0,l.bM)(a.O$.from(e.totalStaked.toString()),e.stakingToken.decimals)*e.stakingTokenPrice);return Number.isFinite(t)?t:0}),"desc");case"latest":return b()(r,(function(e){return Number(e.sousId)}),"desc");default:return r}}(t,V,0,oe).slice(0,K);if(G){var n=(0,Z.b)(G.toLowerCase());return e.filter((function(e){return(0,Z.b)(e.earningToken.symbol.toLowerCase()).includes(n)}))}return e}),[t,V,s,oe,K,G]),X.current=oe.length;var se=(0,r.jsx)(Wt,{children:oe.map((function(e){return e.vaultKey?(0,r.jsx)(Fn,{pool:e,showStakedOnly:j},e.vaultKey):(0,r.jsx)(Le,{pool:e,account:t},e.sousId)}))}),ce=(0,r.jsx)(Bt,{pools:oe,account:t,userDataLoaded:x});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(P.Z,{children:(0,r.jsx)(f.Z,{justifyContent:"space-between",flexDirection:["column",null,null,"row"],children:(0,r.jsxs)(f.Z,{flex:"1",flexDirection:"column",mr:["8px",0],children:[(0,r.jsx)(p.Z,{as:"h1",scale:"xxl",color:"secondary",mb:"24px",children:n("Syrup Pools")}),(0,r.jsx)(p.Z,{scale:"md",color:"text",children:n("Just stake some tokens to earn.")}),(0,r.jsx)(p.Z,{scale:"md",color:"text",children:n("High APR, low risk.")})]})})}),(0,r.jsxs)(w.Z,{children:[(0,r.jsxs)(Ht,{children:[(0,r.jsx)(Jn,{stakedOnly:j,setStakedOnly:S,hasStakeInFinishedPools:re,viewMode:E,setViewMode:F}),(0,r.jsxs)(Vt,{children:[(0,r.jsxs)(Yt,{children:[(0,r.jsx)(d.Z,{fontSize:"12px",bold:!0,color:"textSubtle",textTransform:"uppercase",children:n("Sort by")}),(0,r.jsx)(Xt,{children:(0,r.jsx)(O.Z,{options:[{label:n("Hot"),value:"hot"},{label:n("APR"),value:"apr"},{label:n("Earned"),value:"earned"},{label:n("Total staked"),value:"totalStaked"},{label:n("Latest"),value:"latest"}],onOptionChange:le})})]}),(0,r.jsxs)(Yt,{style:{marginLeft:16},children:[(0,r.jsx)(d.Z,{fontSize:"12px",bold:!0,color:"textSubtle",textTransform:"uppercase",children:n("Search")}),(0,r.jsx)(T.Z,{onChange:ae,placeholder:"Search Pools"})]})]})]}),ie&&(0,r.jsxs)(Jt,{children:[(0,r.jsx)(d.Z,{fontSize:["16px",null,"20px"],color:"failure",pr:"4px",children:n("Looking for v1 CAKE syrup pools?")}),(0,r.jsxs)(Qt,{href:"/migration",fontSize:["16px",null,"20px"],color:"failure",children:[n("Go to migration page"),"."]})]}),t&&!x&&j&&(0,r.jsx)(f.Z,{justifyContent:"center",mb:"4px",children:(0,r.jsx)(I.Z,{})}),E===A.wO.CARD?se:ce,(0,r.jsx)("div",{ref:U}),(0,r.jsx)(h.Z,{mx:"auto",mt:"12px",src:"/images/decorations/3d-syrup-bunnies.png",alt:"Pancake illustration",width:192,height:184.5})]})]})}}}]);
//# sourceMappingURL=1796-f3591523867894fb.js.map