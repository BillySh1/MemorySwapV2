(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9700],{47889:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/voting/proposal/[id]",function(){return t(79059)}])},28523:function(e,n,t){"use strict";t.d(n,{Z:function(){return f}});var r=t(85893),o=(t(67294),t(1465));function i(){var e,n,t=(e=["\n  display: flex;\n  z-index: 2;\n  top: -65%;\n  position: absolute;\n  transform: translate(-50%, -50%);\n  transition: left 200ms ease-out;\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return i=function(){return t},t}var c=t(186).ZP.div.withConfig({componentId:"sc-a698ef92-0"})(i()),s=t(78491);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var l=function(e){return(0,r.jsxs)(s.Z,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){a(e,n,t[n])}))}return e}({viewBox:"0 0 34 38"},e,{children:[(0,r.jsx)("rect",{x:"8.83594",width:"5.30132",height:"17.3191",rx:"2.65066",fill:"#D1884F"}),(0,r.jsx)("rect",{x:"19.4385",width:"5.30132",height:"17.3191",rx:"2.65066",fill:"#D1884F"}),(0,r.jsx)("path",{d:"M8.5 13.0084C13.1944 8.40751 20.8056 8.40751 25.5 13.0084C30.1944 17.6093 30.1944 25.0689 25.5 29.6698L17.6538 37.3597C17.2927 37.7136 16.7073 37.7136 16.3462 37.3597L8.5 29.6698C3.80558 25.0689 3.80558 17.6093 8.5 13.0084Z",fill:"#D1884F"}),(0,r.jsx)("ellipse",{cx:"12.3696",cy:"19.9172",rx:"1.76711",ry:"2.59786",fill:"white"}),(0,r.jsx)("ellipse",{cx:"21.2056",cy:"19.9172",rx:"1.76711",ry:"2.59786",fill:"white"})]}))},u=t(72351),d=function(e){return e<0?0:e>100?100:e},f=function(e){var n=e.variant,t=void 0===n?u.o.ROUND:n,i=e.scale,s=void 0===i?u.Q.MD:i,a=e.primaryStep,f=void 0===a?0:a,p=e.secondaryStep,x=void 0===p?null:p,h=e.showProgressBunny,m=void 0!==h&&h,v=e.useDark,j=void 0===v||v,b=e.children;return(0,r.jsx)(o.Z,{$useDark:j,variant:t,scale:s,children:b||(0,r.jsxs)(r.Fragment,{children:[m&&(0,r.jsx)(c,{style:{left:"".concat(d(f),"%")},children:(0,r.jsx)(l,{})}),(0,r.jsx)(o.$,{$useDark:j,primary:!0,style:{width:"".concat(d(f),"%")}}),x?(0,r.jsx)(o.$,{$useDark:j,style:{width:"".concat(d(x),"%")}}):null]})})}},1465:function(e,n,t){"use strict";t.d(n,{$:function(){return h},Z:function(){return m}});var r,o=t(186),i=t(57247),c=t(16098),s=t(72351);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var l,u=(a(r={},s.o.ROUND,{borderRadius:"32px"}),a(r,s.o.FLAT,{borderRadius:0}),r),d=(a(l={},s.Q.MD,{height:"16px"}),a(l,s.Q.SM,{height:"8px"}),l);function f(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function p(){var e=f(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  background: ",";\n  height: 100%;\n  transition: width 200ms ease;\n"]);return p=function(){return e},e}function x(){var e=f(["\n  position: relative;\n  background-color: ",";\n  box-shadow: ",";\n  overflow: hidden;\n\n  "," {\n    border-top-left-radius: ",";\n    border-bottom-left-radius: ",";\n  }\n\n  ","\n  ","\n  ","\n"]);return x=function(){return e},e}var h=o.ZP.div.withConfig({componentId:"sc-130b14c6-0"})(p(),(function(e){var n=e.theme,t=e.$useDark,r=e.primary,o=e.$background;return o||(t?r?n.colors.secondary:"".concat(n.colors.secondary,"80"):r?c.C0.secondary:"".concat(c.C0.secondary,"80"))}));h.defaultProps={primary:!1};var m=o.ZP.div.withConfig({componentId:"sc-130b14c6-1"})(x(),(function(e){var n=e.theme;return e.$useDark?n.colors.input:c.C0.input}),(function(e){return e.theme.shadows.inset}),h,(function(e){return e.variant===s.o.FLAT?"0":"32px"}),(function(e){return e.variant===s.o.FLAT?"0":"32px"}),(0,i.bU)({variants:u}),(0,i.bU)({prop:"scale",variants:d}),i.Dh)},72351:function(e,n,t){"use strict";t.d(n,{Q:function(){return o},o:function(){return r}});var r={ROUND:"round",FLAT:"flat"},o={MD:"md",SM:"sm"}},34380:function(e,n,t){"use strict";var r=t(85893),o=(t(67294),t(78491));function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}n.Z=function(e){return(0,r.jsx)(o.Z,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){i(e,n,t[n])}))}return e}({viewBox:"0 0 24 24"},e,{children:(0,r.jsx)("path",{d:"M8.11997 14.7101L12 10.8301L15.88 14.7101C16.27 15.1001 16.9 15.1001 17.29 14.7101C17.68 14.3201 17.68 13.6901 17.29 13.3001L12.7 8.7101C12.31 8.3201 11.68 8.3201 11.29 8.7101L6.69997 13.3001C6.30997 13.6901 6.30997 14.3201 6.69997 14.7101C7.08997 15.0901 7.72997 15.1001 8.11997 14.7101Z"})}))}},60579:function(e,n,t){"use strict";var r=t(85893),o=t(186),i=t(44554),c=t(64690);function s(){var e,n,t=(e=["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return s=function(){return t},t}var a=(0,o.ZP)(c.Z).withConfig({componentId:"sc-e40c11b9-0"})(s());n.Z=function(){return(0,r.jsx)(a,{children:(0,r.jsx)(i.Z,{})})}},79059:function(e,n,t){"use strict";t.r(n),t.d(n,{__N_SSG:function(){return tn},default:function(){return rn}});var r=t(85893),o=t(8100),i=t(34051),c=t.n(i),s=t(23526),a=t(31289),l=t(42203),u=t(19532),d=t(42755),f=t(64690),p=t(70233),x=t(77044),h=t(49770),m=t(27697),v=t(41664),j=t.n(v),b=t(11163),g=t(7867),Z=t(5193),y=t(90573),w=t(16792),O=t(60579),P=t(28829),S=t(40191),C=t(84715),k=t(81543),I=t(60438),D=t(40623),L=t(69649),F=t(67602),z=t(88788),E=t(186),B=t(42298),$=t(11156),A=t(2349),V=t(26966);function M(){var e,n,t=(e=["\n  background-color: ",";\n  border: 1px solid ",";\n  border-radius: 16px;\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return M=function(){return t},t}var N=(0,E.ZP)(s.Z).withConfig({componentId:"sc-3b4dd93c-0"})(M(),(function(e){return e.theme.colors.background}),(function(e){return e.theme.colors.cardBorder})),G=function(e){var n=e.proposal,t=(0,g.$G)().t,o=new Date(1e3*n.start),i=new Date(1e3*n.end);return(0,r.jsxs)(I.Z,{mb:"16px",children:[(0,r.jsx)(D.Z,{children:(0,r.jsx)(d.Z,{as:"h3",scale:"md",children:t("Details")})}),(0,r.jsxs)(L.Z,{children:[(0,r.jsxs)(u.Z,{alignItems:"center",mb:"8px",children:[(0,r.jsx)(F.Z,{color:"textSubtle",children:t("Identifier")}),(0,r.jsx)(z.Z,{href:"".concat(V.Gs,"/").concat(n.id),ml:"8px",children:n.id.slice(0,8)})]}),(0,r.jsxs)(u.Z,{alignItems:"center",mb:"8px",children:[(0,r.jsx)(F.Z,{color:"textSubtle",children:t("Creator")}),(0,r.jsx)(z.Z,{href:(0,$.s6)(n.author,"address"),ml:"8px",children:(0,A.Z)(n.author)})]}),(0,r.jsxs)(u.Z,{alignItems:"center",mb:"16px",children:[(0,r.jsx)(F.Z,{color:"textSubtle",children:t("Snapshot")}),(0,r.jsx)(z.Z,{href:(0,$.s6)(n.snapshot,"block"),ml:"8px",children:n.snapshot})]}),(0,r.jsxs)(N,{p:"16px",children:[(0,r.jsx)(C.U,{proposalState:n.state,mb:"8px"}),(0,r.jsxs)(u.Z,{alignItems:"center",children:[(0,r.jsx)(F.Z,{color:"textSubtle",fontSize:"14px",children:t("Start Date")}),(0,r.jsx)(F.Z,{ml:"8px",children:(0,B.default)(o,"yyyy-MM-dd HH:mm")})]}),(0,r.jsxs)(u.Z,{alignItems:"center",children:[(0,r.jsx)(F.Z,{color:"textSubtle",fontSize:"14px",children:t("End Date")}),(0,r.jsx)(F.Z,{ml:"8px",children:(0,B.default)(i,"yyyy-MM-dd HH:mm")})]})]})]})]})},T=t(15316),_=t(9716),H=t(28523),U=t(87177),Q=t(16695);function R(){var e,n,t=(e=["\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return R=function(){return t},t}var J,X=(0,E.ZP)(F.Z).withConfig({componentId:"sc-aef14575-0"})(R()),q=function(e){var n=e.choices,t=e.votes,o=e.votesLoadingStatus,i=(0,g.$G)().t,c=(0,S.zn)(t),a=(0,x.Ge)().account,l=(0,S.Z$)(t);return(0,r.jsxs)(I.Z,{children:[(0,r.jsx)(D.Z,{children:(0,r.jsx)(d.Z,{as:"h3",scale:"md",children:i("Current Results")})}),(0,r.jsxs)(L.Z,{children:[o===P.iF.Fetched&&n.map((function(e,n){var t=c[e]||[],o=(0,S.Z$)(t),d=0===l?0:o/l*100,f=t.some((function(e){return a&&e.voter.toLowerCase()===a.toLowerCase()}));return(0,r.jsxs)(s.Z,{mt:n>0?"24px":"0px",children:[(0,r.jsxs)(u.Z,{alignItems:"center",mb:"8px",children:[(0,r.jsx)(X,{mb:"4px",title:e,children:e}),f&&(0,r.jsxs)(T.Z,{variant:"success",outline:!0,ml:"8px",children:[(0,r.jsx)(_.Z,{mr:"4px"})," ",i("Voted")]})]}),(0,r.jsx)(s.Z,{mb:"4px",children:(0,r.jsx)(H.Z,{primaryStep:d,scale:"sm"})}),(0,r.jsxs)(u.Z,{alignItems:"center",justifyContent:"space-between",children:[(0,r.jsx)(F.Z,{color:"textSubtle",children:i("%total% Votes",{total:(0,Q.uf)(o,0,2)})}),(0,r.jsxs)(F.Z,{children:[d.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),"%"]})]})]},e)})),o===P.iF.Fetching&&n.map((function(e,n){return(0,r.jsxs)(s.Z,{mt:n>0?"24px":"0px",children:[(0,r.jsx)(u.Z,{alignItems:"center",mb:"8px",children:(0,r.jsx)(X,{mb:"4px",title:e,children:e})}),(0,r.jsx)(s.Z,{mb:"4px",children:(0,r.jsx)(U.Z,{height:"36px",mb:"4px"})})]},e)}))]})]})},K=t(67294),Y=t(6744),W=t(65541),ee=t(85426),ne=t(87750),te=t(17796),re=t(27370),oe=t(20316),ie=t(31254);!function(e){e.MAIN="main",e.DETAILS="details"}(J||(J={}));var ce=t(76137),se=t(47851),ae=t(25836),le=t(14667),ue=t(18737),de=function(e){var n=e.vote,t=e.total,o=e.isPending,i=e.isLoading,c=e.isError,s=e.onConfirm,l=e.onViewDetails,u=e.onDismiss,d=e.disabled,f=(0,g.$G)().t;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(ue.I,{children:[(0,r.jsx)(F.Z,{color:"secondary",mb:"8px",textTransform:"uppercase",fontSize:"12px",bold:!0,children:f("Voting For")}),(0,r.jsx)(X,{bold:!0,fontSize:"20px",mb:"8px",title:n.label,children:n.label}),(0,r.jsx)(F.Z,{color:"secondary",mb:"8px",textTransform:"uppercase",fontSize:"12px",bold:!0,children:f("Your Voting Power")}),i&&!c?(0,r.jsx)(U.Z,{height:"64px",mb:"12px"}):c?(0,r.jsx)(ce.Z,{variant:"danger",mb:"12px",children:(0,r.jsx)(F.Z,{color:"text",children:f("Error occurred, please try again later")})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(ue.k,{onClick:l,style:{cursor:"pointer"},children:[(0,r.jsx)(F.Z,{bold:!0,fontSize:"20px",color:0===t?"failure":"text",children:(0,Q.uf)(t,0,3)}),(0,r.jsx)(se.Z,{scale:"sm",variant:"text",children:(0,r.jsx)(ae.Z,{width:"24px"})})]}),0===t?(0,r.jsx)(ce.Z,{variant:"danger",mb:"12px",children:(0,r.jsx)(F.Z,{color:"danger",children:f("Hold some CAKE in your wallet or on PancakeSwap at the snapshot block to get voting power for future proposals.")})}):(0,r.jsx)(F.Z,{as:"p",color:"textSubtle",fontSize:"14px",children:f("Are you sure you want to vote for the above choice? This action cannot be undone.")})]})]}),(0,r.jsx)(a.Z,{isLoading:o,endIcon:o?(0,r.jsx)(le.Z,{spin:!0,color:"currentColor"}):null,disabled:d||i||0===t,width:"100%",mb:"8px",onClick:s,children:f("Confirm Vote")}),(0,r.jsx)(a.Z,{variant:"secondary",width:"100%",onClick:u,children:f("Cancel")})]})},fe=t(51625),pe=t(45532);function xe(e,n,t,r,o,i,c){try{var s=e[i](c),a=s.value}catch(l){return void t(l)}s.done?n(a):Promise.resolve(a).then(r,o)}function he(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function me(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){he(e,n,t[n])}))}return e}var ve=function(e){var n,t=e.onSuccess,o=e.proposalId,i=e.vote,a=e.block,l=e.onDismiss,u=(0,K.useState)(J.MAIN),d=u[0],f=u[1],p=(0,K.useState)(!0),h=p[0],v=p[1],j=(0,K.useState)(!1),b=j[0],Z=j[1],y=(0,x.Ge)().account,w=(0,g.$G)().t,O=(0,ee.Z)().toastError,P=(0,oe.Z)(),C=P.library,k=P.connector,I=(0,ie.Z)().theme,D=(0,pe.Z)(a,h),L=D.isLoading,F=D.isError,z=D.total,E=D.cakeBalance,B=D.cakeVaultBalance,$=D.cakePoolBalance,A=D.poolsBalance,V=D.cakeBnbLpBalance,M=D.ifoPoolBalance,N=d===J.MAIN,G=N?null:function(){return f(J.MAIN)},T=(he(n={},J.MAIN,w("Confirm Vote")),he(n,J.DETAILS,w("Voting Power")),n),_=function(){v(!1),l()},H=function(){var e,n=(e=c().mark((function e(){var n,r,s,a,l;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Z(!0),n=JSON.stringify(me({},(0,S.GB)(),{type:m.Nl.VOTE,payload:{proposal:o,choice:i.value}})),e.next=5,(0,re.l)(k,C,y,n);case 5:return r=e.sent,s={address:y,msg:n,sig:r},e.next=9,(0,S.Jl)(s);case 9:return e.next=11,t();case 11:_(),e.next=20;break;case 14:e.prev=14,e.t0=e.catch(0),O(w("Error"),null!==(l=null===(a=e.t0)||void 0===a?void 0:a.message)&&void 0!==l?l:w("Error occurred, please try again")),console.error(e.t0);case 20:return e.prev=20,Z(!1),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[0,14,20,23]])})),function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function c(e){xe(i,r,o,c,s,"next",e)}function s(e){xe(i,r,o,c,s,"throw",e)}c(void 0)}))});return function(){return n.apply(this,arguments)}}();return(0,r.jsx)(te.Z,{title:T[d],onBack:G,onDismiss:l,hideCloseButton:!N,headerBackground:I.colors.gradients.cardHeader,children:(0,r.jsxs)(s.Z,{mb:"24px",width:"320px",children:[d===J.MAIN&&(0,r.jsx)(de,{vote:i,isError:F,isLoading:L,isPending:b,total:z,onConfirm:H,onViewDetails:function(){return f(J.DETAILS)},onDismiss:_}),d===J.DETAILS&&(0,r.jsx)(fe.Z,{total:z,cakeBalance:E,ifoPoolBalance:M,cakeVaultBalance:B,cakePoolBalance:$,poolsBalance:A,cakeBnbLpBalance:V,block:a})]})})};function je(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function be(e,n,t,r,o,i,c){try{var s=e[i](c),a=s.value}catch(l){return void t(l)}s.done?n(a):Promise.resolve(a).then(r,o)}function ge(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Ze(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function ye(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],c=!0,s=!1;try{for(t=t.call(e);!(c=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);c=!0);}catch(a){s=!0,o=a}finally{try{c||null==t.return||t.return()}finally{if(s)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return je(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return je(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function we(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function Oe(){var e=we(["\n  align-items: center;\n  border: 1px solid ",";\n  border-radius: 16px;\n  cursor: ",";\n  display: flex;\n  margin-bottom: 16px;\n  padding: 16px;\n"]);return Oe=function(){return e},e}function Pe(){var e=we(["\n  flex: 1;\n  padding-left: 16px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  width: 0;\n"]);return Pe=function(){return e},e}var Se=E.ZP.label.withConfig({componentId:"sc-f8d362d1-0"})(Oe(),(function(e){var n=e.theme,t=e.isChecked;return n.colors[t?"success":"cardBorder"]}),(function(e){return e.isDisabled?"not-allowed":"pointer"})),Ce=E.ZP.div.withConfig({componentId:"sc-f8d362d1-1"})(Pe()),ke=function(e){var n=e.proposal,t=e.onSuccess,o=Ze(e,["proposal","onSuccess"]),i=(0,K.useState)(null),s=i[0],l=i[1],u=(0,g.$G)().t,f=(0,ee.Z)().toastSuccess,p=(0,x.Ge)().account,h=function(){var e,n=(e=c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f(u("Vote cast!")),t&&t();case 2:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function c(e){be(i,r,o,c,s,"next",e)}function s(e){be(i,r,o,c,s,"throw",e)}c(void 0)}))});return function(){return n.apply(this,arguments)}}(),m=ye((0,Y.Z)((0,r.jsx)(ve,{onSuccess:h,proposalId:n.id,vote:s,block:Number(n.snapshot)})),1)[0];return(0,r.jsxs)(I.Z,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){ge(e,n,t[n])}))}return e}({},o,{children:[(0,r.jsx)(D.Z,{children:(0,r.jsx)(d.Z,{as:"h3",scale:"md",children:u("Cast your vote")})}),(0,r.jsxs)(L.Z,{children:[n.choices.map((function(e,n){var t=n+1===(null===s||void 0===s?void 0:s.value);return(0,r.jsxs)(Se,{isChecked:t,isDisabled:!p,children:[(0,r.jsx)("div",{style:{flexShrink:0},children:(0,r.jsx)(W.Z,{scale:"sm",value:e,checked:t,onChange:function(){l({label:e,value:n+1})},disabled:!p})}),(0,r.jsx)(Ce,{children:(0,r.jsx)(F.Z,{as:"span",title:e,children:e})})]},e)})),p?(0,r.jsx)(a.Z,{onClick:m,disabled:null===s,children:u("Cast Vote")}):(0,r.jsx)(ne.Z,{})]})]}))},Ie=t(34380),De=t(47442),Le=t(75472),Fe=t.n(Le),ze=t(98913),Ee=t.n(ze);function Be(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function $e(){var e=Be(["\n  border-bottom: 1px solid ",";\n  padding: 16px 24px;\n"]);return $e=function(){return e},e}function Ae(){var e=Be(["\n  flex: 1;\n"]);return Ae=function(){return e},e}var Ve=(0,E.ZP)(u.Z).withConfig({componentId:"sc-3b23a182-0"})($e(),(function(e){return e.theme.colors.cardBorder})),Me=(0,E.ZP)(U.Z).withConfig({componentId:"sc-3b23a182-1"})(Ae()),Ne=function(){return(0,r.jsx)(s.Z,{children:Ee()(10).map((function(e){return(0,r.jsxs)(Ve,{children:[(0,r.jsx)(U.Z,{height:"21px",mr:"32px",width:"100px"}),(0,r.jsx)(Me,{height:"21px",mr:"32px",width:"100%"}),(0,r.jsx)(Me,{height:"21px",width:"100%"})]},e)}))})},Ge=t(16108);function Te(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function _e(){var e=Te(["\n  grid-area: address;\n"]);return _e=function(){return e},e}function He(){var e=Te(["\n  grid-area: choice;\n  overflow: hidden;\n"]);return He=function(){return e},e}function Ue(){var e=Te(["\n  justify-self: end;\n  grid-area: vote;\n"]);return Ue=function(){return e},e}function Qe(){var e=Te(["\n  border-bottom: 1px solid ",";\n  grid-gap: 8px;\n  grid-template-areas:\n    'address address address'\n    'choice choice vote';\n  grid-template-columns: 1fr 1fr 120px;\n  padding: 8px 16px;\n\n  "," {\n    grid-gap: 16px;\n    grid-template-areas: 'address choice vote';\n    padding: 16px 24px;\n  }\n"]);return Qe=function(){return e},e}var Re=(0,E.ZP)(s.Z).attrs({alignItems:"center"}).withConfig({componentId:"sc-6b2d99e6-0"})(_e()),Je=(0,E.ZP)(s.Z).withConfig({componentId:"sc-6b2d99e6-1"})(He()),Xe=(0,E.ZP)(s.Z).withConfig({componentId:"sc-6b2d99e6-2"})(Ue()),qe=(0,E.ZP)(Ge.Z).withConfig({componentId:"sc-6b2d99e6-3"})(Qe(),(function(e){return e.theme.colors.cardBorder}),(function(e){return e.theme.mediaQueries.sm})),Ke=function(e){var n,t=e.vote,o=e.isVoter,i=(0,g.$G)().t,c=!!(null===(n=t.metadata)||void 0===n?void 0:n.votingPower),s=c?parseFloat(t.metadata.votingPower).toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:3}):"--";return(0,r.jsxs)(qe,{children:[(0,r.jsx)(Re,{children:(0,r.jsxs)(u.Z,{alignItems:"center",children:[(0,r.jsx)(z.Z,{href:(0,$.s6)(t.voter,"address"),children:(0,A.Z)(t.voter)}),o&&(0,r.jsxs)(T.Z,{variant:"success",outline:!0,ml:"8px",children:[(0,r.jsx)(_.Z,{mr:"4px"})," ",i("Voted")]})]})}),(0,r.jsx)(Je,{children:(0,r.jsx)(X,{title:t.proposal.choices[t.choice-1],children:t.proposal.choices[t.choice-1]})}),(0,r.jsx)(Xe,{children:(0,r.jsxs)(u.Z,{alignItems:"center",justifyContent:"end",children:[(0,r.jsx)(F.Z,{title:t.metadata.votingPower,children:s}),c&&(0,r.jsx)(z.Z,{href:"".concat(V.Gs,"/").concat(t.id)})]})})]})},Ye=function(e){var n,t=parseFloat(null===e||void 0===e||null===(n=e.metadata)||void 0===n?void 0:n.votingPower);return t||(t=0),t},We=function(e){var n=e.votes,t=e.votesLoadingStatus,o=e.totalVotes,i=(0,K.useState)(!1),c=i[0],s=i[1],l=(0,g.$G)().t,f=(0,x.Ge)().account,p=Fe()(n,[Ye,"created"],["desc","desc"]),h=c?p:p.slice(0,20),m=t===P.iF.Fetched;return(0,r.jsxs)(I.Z,{children:[(0,r.jsx)(D.Z,{children:(0,r.jsxs)(u.Z,{alignItems:"center",justifyContent:"space-between",children:[(0,r.jsx)(d.Z,{as:"h3",scale:"md",children:l("Votes (%count%)",{count:o?o.toLocaleString():"-"})}),!m&&(0,r.jsx)(le.Z,{spin:!0,width:"22px"})]})}),!m&&(0,r.jsx)(Ne,{}),m&&h.length>0&&(0,r.jsxs)(r.Fragment,{children:[h.map((function(e){var n=f&&e.voter.toLowerCase()===f.toLowerCase();return(0,r.jsx)(Ke,{vote:e,isVoter:n},e.id)})),(0,r.jsx)(u.Z,{alignItems:"center",justifyContent:"center",py:"8px",px:"24px",children:(0,r.jsx)(a.Z,{width:"100%",onClick:function(){s(!c)},variant:"text",endIcon:c?(0,r.jsx)(Ie.Z,{color:"primary",width:"21px"}):(0,r.jsx)(De.Z,{color:"primary",width:"21px"}),disabled:!m,children:l(c?"Hide":"See All")})})]}),m&&0===h.length&&(0,r.jsx)(u.Z,{alignItems:"center",justifyContent:"center",py:"32px",children:(0,r.jsx)(d.Z,{as:"h5",children:l("No votes found")})})]})};function en(e,n,t,r,o,i,c){try{var s=e[i](c),a=s.value}catch(l){return void t(l)}s.done?n(a):Promise.resolve(a).then(r,o)}var nn=function(){var e,n,t=(0,b.useRouter)(),o=t.query,i=t.isFallback,v=o.id,I=(0,g.$G)().t,D=(0,x.Ge)().account,L=(0,h.Z)(v?["proposal",v]:null,(function(){return(0,p.pU)(v)})),F=L.status,z=L.data,E=L.error,B=(0,h.Z)(z?["proposal",z,"votes"]:null,(e=c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.uy)(z));case 1:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function c(e){en(i,r,o,c,s,"next",e)}function s(e){en(i,r,o,c,s,"throw",e)}c(void 0)}))})),$=B.status,A=B.data,V=B.mutate,M=D&&A&&A.some((function(e){return e.voter.toLowerCase()===D.toLowerCase()})),N=$===P.iF.Fetching||F===P.iF.Fetching;return!z&&E?(0,r.jsx)(w.Z,{}):i||!z?(0,r.jsx)(O.Z,{}):(0,r.jsxs)(Z.Z,{py:"40px",children:[(0,r.jsx)(f.V,{}),(0,r.jsx)(s.Z,{mb:"40px",children:(0,r.jsx)(j(),{href:"/voting",passHref:!0,children:(0,r.jsx)(a.Z,{as:"a",variant:"text",startIcon:(0,r.jsx)(l.Z,{color:"primary",width:"24px"}),px:"0",children:I("Back to Vote Overview")})})}),(0,r.jsxs)(k.Z,{children:[(0,r.jsxs)(s.Z,{children:[(0,r.jsxs)(s.Z,{mb:"32px",children:[(0,r.jsxs)(u.Z,{alignItems:"center",mb:"8px",children:[(0,r.jsx)(C.U,{proposalState:z.state}),(0,r.jsx)(C.g,{isCoreProposal:(0,S.md)(z),ml:"8px"})]}),(0,r.jsx)(d.Z,{as:"h1",scale:"xl",mb:"16px",children:z.title}),(0,r.jsx)(s.Z,{children:(0,r.jsx)(y.Z,{children:z.body})})]}),!N&&!M&&z.state===m.r7.ACTIVE&&(0,r.jsx)(ke,{proposal:z,onSuccess:V,mb:"16px"}),(0,r.jsx)(We,{votes:A,totalVotes:null!==(n=null===A||void 0===A?void 0:A.length)&&void 0!==n?n:z.votes,votesLoadingStatus:$})]}),(0,r.jsxs)(s.Z,{position:"sticky",top:"60px",children:[(0,r.jsx)(G,{proposal:z}),(0,r.jsx)(q,{choices:z.choices,votes:A,votesLoadingStatus:$})]})]})]})},tn=!0,rn=function(e){var n=e.fallback,t=void 0===n?{}:n;return(0,r.jsx)(o.J$,{value:{fallback:t},children:(0,r.jsx)(nn,{})})}},16792:function(e,n,t){"use strict";var r=t(85893),o=t(186),i=t(7233),c=t(42755),s=t(67602),a=t(31289),l=t(7867),u=t(41664),d=t.n(u),f=t(15418);function p(){var e,n,t=(e=["\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  height: calc(100vh - 64px);\n  justify-content: center;\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return p=function(){return t},t}var x=o.ZP.div.withConfig({componentId:"sc-496eb9ca-0"})(p());n.Z=function(){var e=(0,l.$G)().t;return(0,r.jsx)(f.Z,{children:(0,r.jsxs)(x,{children:[(0,r.jsx)(i.Z,{width:"64px",mb:"8px"}),(0,r.jsx)(c.Z,{scale:"xl",children:"Comming Soon"}),(0,r.jsx)(s.Z,{mb:"16px",children:"Please Stay tuned"}),(0,r.jsx)(d(),{href:"/",passHref:!0,children:(0,r.jsx)(a.Z,{as:"a",scale:"sm",children:e("Back")})})]})})}},15418:function(e,n,t){"use strict";var r=t(85893),o=t(186),i=t(64690),c=t(81313);function s(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){s(e,n,t[n])}))}return e}function l(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function u(){var e,n,t=(e=["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  padding: ",";\n  padding-bottom: 0;\n  min-height: calc(100vh - 50px);\n  background: ",";\n\n  "," {\n    background-size: auto;\n  }\n\n  "," {\n    padding: ",";\n    padding-bottom: 0;\n  }\n\n  "," {\n    padding: ",";\n    padding-bottom: 0;\n  }\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return u=function(){return t},t}var d=o.ZP.div.withConfig({componentId:"sc-2f14ef8b-0"})(u(),(function(e){return e.$removePadding?"0":"16px"}),(function(e){return e.theme.colors.gradients.bubblegum}),(function(e){return e.theme.mediaQueries.xs}),(function(e){return e.theme.mediaQueries.sm}),(function(e){return e.$removePadding?"0":"24px"}),(function(e){return e.theme.mediaQueries.lg}),(function(e){return e.$removePadding?"0":"32px"}));n.Z=function(e){var n=e.children,t=e.removePadding,o=void 0!==t&&t,s=(e.hideFooterOnDesktop,e.noMinHeight),u=void 0!==s&&s,f=e.helpUrl,p=(void 0===f&&c.SO,l(e,["children","removePadding","hideFooterOnDesktop","noMinHeight","helpUrl"]));return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.V,{}),(0,r.jsx)(d,a({$removePadding:o,$noMinHeight:u},p,{children:n}))]})}}},function(e){e.O(0,[2298,5010,1266,7207,3246,9774,2888,179],(function(){return n=47889,e(e.s=n);var n}));var n=e.O();_N_E=n}]);
//# sourceMappingURL=[id]-749c7e6e3f1dc9cb.js.map