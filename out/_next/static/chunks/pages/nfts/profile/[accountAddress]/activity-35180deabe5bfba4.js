(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[496],{18916:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/nfts/profile/[accountAddress]/activity",function(){return n(41389)}])},27306:function(e,t,n){"use strict";n.d(t,{Z:function(){return k}});var r=n(85893),o=n(67294),i=n(23526),c=n(7470),a=n(31602),u=n(186);function s(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function l(){var e=s(["\n  position: relative;\n\n  ",";\n"]);return l=function(){return e},e}function f(){var e=s(["\n  position: relative;\n  display: flex;\n  align-items: center;\n\n  color: ",";\n  font-size: 16px;\n  font-weight: ",";\n\n  ","\n\n  ","\n\n  &:hover {\n    background: ",";\n    ",";\n  }\n"]);return f=function(){return e},e}var d=u.ZP.div.withConfig({componentId:"sc-40beb420-0"})(l(),(function(e){var t=e.$isActive,n=e.$variant,r=e.theme;return t&&"subMenu"===n&&'\n      &:after{\n        content: "";\n        position: absolute;\n        bottom: 0;\n        height: 4px;\n        width: 100%;\n        background-color: '.concat(r.colors.primary,";\n        border-radius: 2px 2px 0 0;\n      }\n    ")})),p=u.ZP.a.withConfig({componentId:"sc-40beb420-1"})(f(),(function(e){var t=e.theme;return e.$isActive?t.colors.secondary:t.colors.textSubtle}),(function(e){return e.$isActive?"600":"400"}),(function(e){var t=e.$statusColor,n=e.theme;return t&&'\n    &:after {\n      content: "";\n      border-radius: 100%;\n      background: '.concat(n.colors[t],";\n      height: 8px;\n      width: 8px;\n      margin-left: 12px;\n    }\n  ")}),(function(e){return"default"===e.$variant?"\n    padding: 0 16px;\n    height: 48px;\n  ":"\n    padding: 4px 4px 0px 4px;\n    height: 42px;\n  "}),(function(e){return e.theme.colors.tertiary}),(function(e){return"default"===e.$variant&&"border-radius: 16px;"}));function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){v(e,t,n[t])}))}return e}function b(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var m=function(e){var t=e.children,n=e.href,i=e.isActive,c=void 0!==i&&i,u=e.variant,s=void 0===u?"default":u,l=e.statusColor,f=b(e,["children","href","isActive","variant","statusColor"]),v=(0,o.useContext)(a.p).linkComponent,m=n?{as:v,href:n}:{as:"div"};return(0,r.jsx)(d,{$isActive:c,$variant:s,children:(0,r.jsx)(p,h({},m,{$isActive:c,$variant:s,$statusColor:l},f,{children:t}))})},x=n(32217),y=n(19532);function g(){var e,t,n=(e=["\n  "," {\n    ",";\n  }\n  flex-grow: 1;\n  background-color: ",";\n  box-shadow: inset 0px -2px 0px -8px rgba(133, 133, 133, 0.1);\n  overflow-x: scroll;\n  scrollbar-width: none;\n  -ms-overflow-style: none;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return g=function(){return n},n}var j=(0,u.ZP)(y.Z).withConfig({componentId:"sc-9a68b8ae-0"})(g(),(function(e){return e.theme.mediaQueries.sm}),(function(e){return e.$isMobileOnly?"display:none":""}),(function(e){var t=e.theme;return"".concat(t.colors.backgroundAlt2)}));function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){w(e,t,n[t])}))}return e}function P(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var k=function(e){var t=e.items,n=void 0===t?[]:t,o=e.activeItem,a=e.isMobileOnly,u=void 0!==a&&a,s=P(e,["items","activeItem","isMobileOnly"]);return(0,r.jsx)(j,O({justifyContent:[u?"flex-end":"start",null,"center"]},s,{pl:["12px",null,"0px"],$isMobileOnly:u,children:n.map((function(e){var t=e.label,n=e.href,a=e.icon,u=e.itemProps,s=a,l=e.type===c.l.EXTERNAL_LINK,f=l?{as:"a",target:"_blank"}:{};return t&&(0,r.jsx)(i.Z,{mr:"20px",children:(0,r.jsxs)(m,O({href:n,isActive:n===o,variant:"subMenu"},u,f,{children:[s&&(0,r.jsx)(s,{color:n===o?"secondary":"textSubtle",mr:"4px"}),t,l&&(0,r.jsx)(i.Z,{display:["none",null,"flex"],style:{alignItems:"center"},ml:"4px",children:(0,r.jsx)(x.Z,{color:"textSubtle"})})]}))},t)}))}))}},41389:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return F}});var r=n(85893),o=n(31198),i=n(34051),c=n.n(i),a=n(67294),u=n(77044),s=n(11156),l=n(77586),f=n(67921),d=n(81860),p=n(60438),v=n(19532),h=n(67602),b=n(91985),m=n(4291),x=n(42203),y=n(44439),g=n(7867),j=n(95923),w=n(30725),O=n(31254),P=n(11163),k=n(46383),I=n(75472),A=n.n(I);function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Z(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var E=function(e,t){var n,r=t.askOrderHistory,o=t.buyTradeHistory,i=t.sellTradeHistory,c=function(t){return t.map((function(t){var n=t.seller.id===e.toLowerCase(),r=n?k.YG.SELL:k.YG.BUY,o=t.timestamp,i=t.nft;return{marketEvent:r,price:t.askPrice,otherParty:n?t.buyer.id:t.seller.id,timestamp:o,nft:i,tx:t.id}}))},a=Z((n=r,n.map((function(e){var t=function(e){switch(e){case k.cP.CANCEL:return k.YG.CANCEL;case k.cP.MODIFY:return k.YG.MODIFY;case k.cP.NEW:return k.YG.NEW;default:return k.YG.MODIFY}}(e.orderType),n=e.timestamp,r=e.nft;return{marketEvent:t,price:e.askPrice,timestamp:n,nft:r,tx:e.id}})))).concat(Z(c(o)),Z(c(i)));if(a.length>0){var u=A()(a,(function(e){return parseInt(e.timestamp,10)}),"desc");return u}return[]},S=n(70551),T=n(49862),L=n(29839),$=n(85905);function _(e,t,n,r,o,i,c){try{var a=e[i](c),u=a.value}catch(s){return void n(s)}a.done?t(u):Promise.resolve(u).then(r,o)}function N(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function c(e){_(i,r,o,c,a,"next",e)}function a(e){_(i,r,o,c,a,"throw",e)}c(void 0)}))}}var M=function(){var e=(0,u.Ge)().account,t=(0,l.TL)(),n=(0,P.useRouter)().query.accountAddress,o=(0,O.Z)().theme,i=(0,g.$G)().t,k=(0,a.useState)(1),I=k[0],A=k[1],C=(0,a.useState)(1),Z=C[0],_=C[1],M=(0,a.useState)([]),D=M[0],Y=M[1],F=(0,a.useState)([]),G=F[0],z=F[1],J=(0,a.useState)([]),X=J[0],B=J[1],H=(0,a.useState)(!0),R=H[0],U=H[1],q=(0,w.Hf)(),K=(0,d.Z)(),V=K.isXs,W=K.isSm;return(0,a.useEffect)((function(){var e=function(){var e=N(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,f._z)(n.toLocaleLowerCase());case 3:t=e.sent,B(E(n,t)),U(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Failed to fetch address activity",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();(0,s.UJ)(n)&&e()}),[e,n,t]),(0,a.useEffect)((function(){var e=function(){var e=N(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,$.M)(X);case 2:t=e.sent,z(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return X.length>0&&(!function(){var e=Math.ceil(X.length/8);_(e)}(),e()),function(){Y([]),z([]),_(1),A(1)}}),[X]),(0,a.useEffect)((function(){X.length>0&&function(){var e=X.slice(8*(I-1),8*I);Y(e)}()}),[X,I]),(0,r.jsx)(p.Z,{style:{overflowX:"auto"},children:0!==X.length||0!==G.length||0!==D.length||R?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(b.Z,{children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsxs)(m.Th,{textAlign:["center",null,"left"],children:[" ",i("Item")]}),(0,r.jsxs)(m.Th,{textAlign:"right",children:[" ",i("Event")]}),V||W?null:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(m.Th,{textAlign:"right",children:[" ",i("Price")]}),(0,r.jsxs)(m.Th,{textAlign:"center",children:[" ",i("From/To")]})]}),(0,r.jsxs)(m.Th,{textAlign:"center",children:[" ",i("Date")]}),V||W?null:(0,r.jsx)(m.Th,{})]})}),(0,r.jsx)("tbody",{children:R?(0,r.jsx)(j.Z,{}):D.map((function(e){var t=G.find((function(t){return t.tokenId===e.nft.tokenId}));return(0,r.jsx)(L.Z,{activity:e,nft:t,bnbBusdPrice:q,isUserActivity:!0},"".concat(e.nft.tokenId).concat(e.timestamp))}))})]}),(0,r.jsx)(v.Z,{borderTop:"1px ".concat(o.colors.cardBorder," solid"),pt:"24px",flexDirection:"column",justifyContent:"space-between",height:"100%",children:(0,r.jsxs)(T.O,{children:[(0,r.jsx)(T.E,{onClick:function(){A(1===I?I:I-1)},children:(0,r.jsx)(x.Z,{color:1===I?"textDisabled":"primary"})}),(0,r.jsx)(h.Z,{children:i("Page %page% of %maxPage%",{page:I,maxPage:Z})}),(0,r.jsx)(T.E,{onClick:function(){A(I===Z?I:I+1)},children:(0,r.jsx)(y.Z,{color:I===Z?"textDisabled":"primary"})})]})})]}):(0,r.jsxs)(v.Z,{p:"24px",flexDirection:"column",alignItems:"center",children:[(0,r.jsx)(S.Z,{}),(0,r.jsx)(h.Z,{pt:"8px",bold:!0,children:i("No NFT market history found")})]})})},D=n(19842),Y=function(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(D.Z,{}),(0,r.jsx)(M,{})]})};Y.Layout=o.K;var F=Y},85905:function(e,t,n){"use strict";n.d(t,{M:function(){return d}});var r=n(34051),o=n.n(r),i=n(67921),c=n(45578),a=n.n(c),u=n(64091);function s(e,t,n,r,o,i,c){try{var a=e[i](c),u=a.value}catch(s){return void n(s)}a.done?t(u):Promise.resolve(u).then(r,o)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){l(e,t,n[t])}))}return e}var d=function(){var e,t=(e=o().mark((function e(t){var n,r,c,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.some((function(e){return e.nft.collection.id.toLowerCase()===u.J.toLowerCase()}))){e.next=6;break}return e.next=5,(0,i.Rq)(u.J);case 5:n=e.sent;case 6:return r=n?t.filter((function(e){return e.nft.collection.id.toLowerCase()===u.J.toLowerCase()})).map((function(e){var t=n.data[e.nft.otherId].collection.name;return f({},n.data[e.nft.otherId],{tokenId:e.nft.tokenId,attributes:[{traitType:"bunnyId",value:e.nft.otherId}],collectionAddress:e.nft.collection.id,collectionName:t})})):[],c=a()(t.filter((function(e){return e.nft.collection.id.toLowerCase()!==u.J.toLowerCase()})).map((function(e){return{tokenId:e.nft.tokenId,collectionAddress:e.nft.collection.id}})),"tokenId"),e.next=10,(0,i._C)(c);case 10:return s=e.sent,e.abrupt("return",s.concat(r));case 12:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function c(e){s(i,r,o,c,a,"next",e)}function a(e){s(i,r,o,c,a,"throw",e)}c(void 0)}))});return function(e){return t.apply(this,arguments)}}()},19842:function(e,t,n){"use strict";var r=n(85893),o=n(7867),i=n(11163),c=n(38131),a=n(64091);t.Z=function(){var e=(0,o.$G)().t,t=(0,i.useRouter)(),n=t.query.accountAddress,u=t.asPath,s=[{label:e("Items"),href:"".concat(a.V,"/profile/").concat(n)},{label:e("Activity"),href:"".concat(a.V,"/profile/").concat(n,"/activity")}];return(0,r.jsx)(c.Z,{items:s,activeItem:u,justifyContent:"flex-start",mb:"60px"})}},38131:function(e,t,n){"use strict";var r=n(27306);function o(){var e,t,n=(e=["\n  background-color: transparent;\n  border-bottom: 1px "," solid;\n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return o=function(){return n},n}var i=(0,n(186).ZP)(r.Z).withConfig({componentId:"sc-12f79d1a-0"})(o(),(function(e){return e.theme.colors.cardBorder}));t.Z=i}},function(e){e.O(0,[5675,167,4355,5574,1551,1198,9774,2888,179],(function(){return t=18916,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
//# sourceMappingURL=activity-35180deabe5bfba4.js.map